"use strict";(self.webpackChunkpikachu_volleyball=self.webpackChunkpikachu_volleyball||[]).push([[792],{370:(e,t,s)=>{var n=s(603),d=s(787),c=s(284),i=s(650),o=s(449),a=s(561),l=s(49),m=s(401),r=s(77),u=s(697),b=s(505),g=(s(229),s(579)),v=s(17),E=s(751),L=s(345);const p={_precedence:0,pause:function(e,t){t>this._precedence&&(e.paused=!0,this._precedence=t)},resume:function(e,t){t===this._precedence&&(e.paused=!1,this._precedence=0)}};function f(e){if(e.graphic){const t=document.getElementById("graphic-sharp-btn"),s=document.getElementById("graphic-soft-btn");switch(e.graphic){case"sharp":s.classList.remove("selected"),t.classList.add("selected");break;case"soft":t.classList.remove("selected"),s.classList.add("selected")}}if(e.bgm){const t=document.getElementById("bgm-on-btn"),s=document.getElementById("bgm-off-btn");switch(e.bgm){case"on":s.classList.remove("selected"),t.classList.add("selected");break;case"off":t.classList.remove("selected"),s.classList.add("selected")}}if(e.sfx){const t=document.getElementById("stereo-btn"),s=document.getElementById("mono-btn"),n=document.getElementById("sfx-off-btn");switch(e.sfx){case"stereo":s.classList.remove("selected"),n.classList.remove("selected"),t.classList.add("selected");break;case"mono":n.classList.remove("selected"),t.classList.remove("selected"),s.classList.add("selected");break;case"off":t.classList.remove("selected"),s.classList.remove("selected"),n.classList.add("selected")}}if(e.speed){const t=document.getElementById("slow-speed-btn"),s=document.getElementById("medium-speed-btn"),n=document.getElementById("fast-speed-btn");switch(e.speed){case"slow":s.classList.remove("selected"),n.classList.remove("selected"),t.classList.add("selected");break;case"medium":n.classList.remove("selected"),t.classList.remove("selected"),s.classList.add("selected");break;case"fast":t.classList.remove("selected"),s.classList.remove("selected"),n.classList.add("selected")}}if(e.winningScore){const t=document.getElementById("winning-score-5-btn"),s=document.getElementById("winning-score-10-btn"),n=document.getElementById("winning-score-15-btn");switch(e.winningScore){case"5":s.classList.remove("selected"),n.classList.remove("selected"),t.classList.add("selected");break;case"10":n.classList.remove("selected"),t.classList.remove("selected"),s.classList.add("selected");break;case"15":t.classList.remove("selected"),s.classList.remove("selected"),n.classList.add("selected")}}}function h(e,t){I(),B(e),document.getElementById(e).classList.toggle("show")?p.pause(t,1):p.resume(t,1)}function y(e,t){I(),document.getElementById(e).classList.add("open"),document.getElementById(t).classList.add("show")}function B(e){const t=document.getElementsByClassName("dropdown");for(let s=0;s<t.length;s++)t[s].id!==e&&t[s].classList.remove("show")}function I(){const e=document.getElementsByClassName("submenu");for(let t=0;t<e.length;t++)e[t].classList.remove("show");const t=document.getElementsByClassName("submenu-btn");for(let e=0;e<t.length;e++)t[e].classList.remove("open")}c.A4.registerPlugin("prepare",i.p8),c.A4.registerPlugin("batch",c.ch),r.KB.registerPlugin("prepare",b.S),r.KB.registerPlugin("sprite",u.$),a.aH.registerPlugin(l.A),n.W.RESOLUTION=2,n.W.SCALE_MODE=d.M6.NEAREST,n.W.ROUND_PIXELS=!0;const w=(0,c.q5)({width:432,height:304,antialias:!1,backgroundColor:0,backgroundAlpha:1,forceCanvas:!0}),k=new o.mc,S=new m.Rv,x=new a.aH;w.view.setAttribute("id","game-canvas"),document.getElementById("game-canvas-container").appendChild(w.view),w.render(k),x.add(v.I.SPRITE_SHEET);for(const e in v.I.SOUNDS)x.add(v.I.SOUNDS[e]);function P(){const e=new g.q(k,x.resources);(function(e,t){const s=s=>{switch(f(s),s.graphic){case"sharp":document.getElementById("game-canvas").classList.remove("graphic-soft");break;case"soft":document.getElementById("game-canvas").classList.add("graphic-soft")}switch(s.bgm){case"on":e.audio.turnBGMVolume(!0);break;case"off":e.audio.turnBGMVolume(!1)}switch(s.sfx){case"stereo":e.audio.turnSFXVolume(!0),e.isStereoSound=!0;break;case"mono":e.audio.turnSFXVolume(!0),e.isStereoSound=!1;break;case"off":e.audio.turnSFXVolume(!1)}switch(s.speed){case"slow":e.normalFPS=20,t.maxFPS=e.normalFPS;break;case"medium":e.normalFPS=25,t.maxFPS=e.normalFPS;break;case"fast":e.normalFPS=30,t.maxFPS=e.normalFPS}switch(s.winningScore){case"5":e.winningScore=5;break;case"10":e.winningScore=10;break;case"15":e.winningScore=15}};document.getElementById("save-replay-btn").addEventListener("click",(()=>{L.Z.saveAsFile()})),s({graphic:E.U.get("pv-offline-graphic"),bgm:E.U.get("pv-offline-bgm"),sfx:E.U.get("pv-offline-sfx"),speed:E.U.get("pv-offline-speed"),winningScore:E.U.get("pv-offline-winningScore")}),function(e,t){const s=document.getElementById("game-dropdown-btn"),n=document.getElementById("options-dropdown-btn"),d=document.getElementById("about-btn");document.getElementById("code-copy-btn").addEventListener("click",(()=>{var e;e=document.getElementById("code-viewer-output").textContent,navigator.clipboard.writeText(e).then((()=>{alert("복사되었습니다. 원하는 곳에 붙여넣기하여 주세요.")})).catch((()=>{prompt("키보드의 ctrl+C 또는 마우스 오른쪽의 복사하기를 이용해주세요.",e)}))})),s.disabled=!1,n.disabled=!1,d.disabled=!1;const c=document.getElementById("pause-btn");c.addEventListener("click",(()=>{c.classList.contains("selected")?(c.classList.remove("selected"),p.resume(e,3)):(c.classList.add("selected"),p.pause(e,3))})),document.getElementById("restart-btn").addEventListener("click",(()=>{c.classList.contains("selected")&&(c.classList.remove("selected"),p.resume(e,3)),e.restart()}));const i=document.getElementById("graphic-sharp-btn"),o=document.getElementById("graphic-soft-btn");i.addEventListener("click",(()=>{t({graphic:"sharp"})})),o.addEventListener("click",(()=>{t({graphic:"soft"})}));const a=document.getElementById("bgm-on-btn"),l=document.getElementById("bgm-off-btn");a.addEventListener("click",(()=>{t({bgm:"on"})})),l.addEventListener("click",(()=>{t({bgm:"off"})}));const m=document.getElementById("stereo-btn"),r=document.getElementById("mono-btn"),u=document.getElementById("sfx-off-btn");m.addEventListener("click",(()=>{t({sfx:"stereo"})})),r.addEventListener("click",(()=>{t({sfx:"mono"})})),u.addEventListener("click",(()=>{t({sfx:"off"})}));const b=document.getElementById("slow-speed-btn"),g=document.getElementById("medium-speed-btn"),v=document.getElementById("fast-speed-btn");b.addEventListener("click",(()=>{t({speed:"slow"})})),g.addEventListener("click",(()=>{t({speed:"medium"})})),v.addEventListener("click",(()=>{t({speed:"fast"})}));const E=document.getElementById("winning-score-5-btn"),L=document.getElementById("winning-score-10-btn"),f=document.getElementById("winning-score-15-btn"),h=document.getElementById("notice-box-1"),y=document.getElementById("notice-ok-btn-1"),B=document.getElementById("winning-score-in-notice-box-1");function I(t){return!(e.state!==e.round&&e.state!==e.afterEndOfRound&&e.state!==e.beforeStartOfNextRound||!(e.scores[0]>=t||e.scores[1]>=t))}const w=document.getElementById("notice-box-2"),k=document.getElementById("notice-ok-btn-2");E.addEventListener("click",(()=>{if(!E.classList.contains("selected"))return!0===e.isPracticeMode?(w.classList.remove("hidden"),s.disabled=!0,n.disabled=!0,d.disabled=!0,void p.pause(e,2)):I(5)?(B.textContent="5",h.classList.remove("hidden"),s.disabled=!0,n.disabled=!0,d.disabled=!0,void p.pause(e,2)):void t({winningScore:"5"})})),L.addEventListener("click",(()=>{if(!L.classList.contains("selected"))return!0===e.isPracticeMode?(w.classList.remove("hidden"),s.disabled=!0,n.disabled=!0,d.disabled=!0,void p.pause(e,2)):I(10)?(B.textContent="10",h.classList.remove("hidden"),s.disabled=!0,n.disabled=!0,d.disabled=!0,void p.pause(e,2)):void t({winningScore:"10"})})),f.addEventListener("click",(()=>{if(!f.classList.contains("selected"))return!0===e.isPracticeMode?(w.classList.remove("hidden"),s.disabled=!0,n.disabled=!0,d.disabled=!0,void p.pause(e,2)):I(15)?(B.textContent="15",h.classList.remove("hidden"),s.disabled=!0,n.disabled=!0,d.disabled=!0,void p.pause(e,2)):void t({winningScore:"15"})})),y.addEventListener("click",(()=>{h.classList.contains("hidden")||(h.classList.add("hidden"),s.disabled=!1,n.disabled=!1,d.disabled=!1,p.resume(e,2))})),k.addEventListener("click",(()=>{w.classList.contains("hidden")||(w.classList.add("hidden"),s.disabled=!1,n.disabled=!1,d.disabled=!1,p.resume(e,2))}));const S=document.getElementById("practice-mode-on-btn"),x=document.getElementById("practice-mode-off-btn");S.addEventListener("click",(()=>{x.classList.remove("selected"),S.classList.add("selected"),e.isPracticeMode=!0})),x.addEventListener("click",(()=>{S.classList.remove("selected"),x.classList.add("selected"),e.isPracticeMode=!1}));const P=document.getElementById("about-box"),C=document.getElementById("close-about-btn");d.addEventListener("click",(()=>{P.classList.contains("hidden")?(P.classList.remove("hidden"),s.disabled=!0,n.disabled=!0,p.pause(e,2)):(P.classList.add("hidden"),s.disabled=!1,n.disabled=!1,p.resume(e,2))})),C.addEventListener("click",(()=>{P.classList.contains("hidden")||(P.classList.add("hidden"),s.disabled=!1,n.disabled=!1,p.resume(e,2))})),document.getElementById("reset-to-default-btn").addEventListener("click",(()=>{x.click(),t({graphic:"sharp",bgm:"on",sfx:"stereo",speed:"medium",winningScore:"15"})}))}(e,(e=>{s(e),(e=>{f(e),e.graphic&&E.U.set("pv-offline-graphic",e.graphic),e.bgm&&E.U.set("pv-offline-bgm",e.bgm),e.sfx&&E.U.set("pv-offline-sfx",e.sfx),e.speed&&E.U.set("pv-offline-speed",e.speed),e.winningScore&&E.U.set("pv-offline-winningScore",e.winningScore)})(e)})),function(e){window.addEventListener("click",(t=>{t.target.matches(".dropdown-btn, .submenu-btn")||(I(),B(""),p.resume(e,1))})),document.getElementById("game-dropdown-btn").addEventListener("click",(()=>{h("game-dropdown",e)})),document.getElementById("options-dropdown-btn").addEventListener("click",(()=>{h("options-dropdown",e)})),document.getElementById("graphic-submenu-btn").addEventListener("mouseover",(()=>{y("graphic-submenu-btn","graphic-submenu")})),document.getElementById("bgm-submenu-btn").addEventListener("mouseover",(()=>{y("bgm-submenu-btn","bgm-submenu")})),document.getElementById("sfx-submenu-btn").addEventListener("mouseover",(()=>{y("sfx-submenu-btn","sfx-submenu")})),document.getElementById("speed-submenu-btn").addEventListener("mouseover",(()=>{y("speed-submenu-btn","speed-submenu")})),document.getElementById("winning-score-submenu-btn").addEventListener("mouseover",(()=>{y("winning-score-submenu-btn","winning-score-submenu")})),document.getElementById("practice-mode-submenu-btn").addEventListener("mouseover",(()=>{y("practice-mode-submenu-btn","practice-mode-submenu")})),document.getElementById("reset-to-default-btn").addEventListener("mouseover",(()=>{I()})),document.getElementById("bgm-submenu-btn").addEventListener("click",(()=>{y("bgm-submenu-btn","bgm-submenu")})),document.getElementById("sfx-submenu-btn").addEventListener("click",(()=>{y("sfx-submenu-btn","sfx-submenu")})),document.getElementById("speed-submenu-btn").addEventListener("click",(()=>{y("speed-submenu-btn","speed-submenu")})),document.getElementById("winning-score-submenu-btn").addEventListener("click",(()=>{y("winning-score-submenu-btn","winning-score-submenu")})),document.getElementById("practice-mode-submenu-btn").addEventListener("click",(()=>{y("practice-mode-submenu-btn","practice-mode-submenu")})),document.getElementById("reset-to-default-btn").addEventListener("click",(()=>{I()}))}(e),window.addEventListener("keydown",(e=>{if("Escape"===e.code){const t=document.getElementById("menu-bar");t.classList.contains("hidden")?t.classList.remove("hidden"):t.classList.add("hidden"),e.preventDefault()}else"Space"===e.code&&document.getElementById("about-box").classList.contains("hidden")&&e.preventDefault()})),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState?e.audio.unmuteAll():e.audio.muteAll()}))})(e,S),function(e){S.maxFPS=e.normalFPS,S.add((()=>{e.gameLoop(),w.render(k)})),S.start()}(e)}!function(){const e=document.getElementById("loading-box"),t=document.getElementById("progress-bar");x.onProgress.add((()=>{t.style.width=`${x.progress}%`})),x.onComplete.add((()=>{e.classList.add("hidden")}));const s=document.getElementById("about-box"),n=document.getElementById("about-btn"),d=document.getElementById("close-about-btn"),c=document.getElementById("game-dropdown-btn"),i=document.getElementById("options-dropdown-btn");c.disabled=!0,i.disabled=!0;const o=()=>{s.classList.contains("hidden")||(s.classList.add("hidden"),n.disabled=!0),n.getElementsByClassName("text-play")[0].classList.add("hidden"),n.getElementsByClassName("text-about")[0].classList.remove("hidden"),n.classList.remove("glow"),d.getElementsByClassName("text-play")[0].classList.add("hidden"),d.getElementsByClassName("text-close")[0].classList.remove("hidden"),d.classList.remove("glow"),x.load(P),e.classList.remove("hidden"),n.removeEventListener("click",o),d.removeEventListener("click",o)};n.addEventListener("click",o),d.addEventListener("click",o)}()},751:(e,t,s)=>{s.d(t,{U:()=>n});const n={get:e=>{let t=null;try{t=localStorage.getItem(e)}catch(e){console.error(e)}return t},set:(e,t)=>{try{localStorage.setItem(e,t)}catch(e){console.error(e)}}}}},e=>{e.O(0,[663,579],(()=>e(e.s=370))),e.O()}]);
//# sourceMappingURL=main.bundle.js.map