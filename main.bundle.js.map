{"version":3,"file":"main.bundle.js","mappings":"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","sources":["webpack://pikachu-volleyball/./src/resources/js/ui.js","webpack://pikachu-volleyball/./src/resources/js/main.js","webpack://pikachu-volleyball/./src/resources/js/utils/local_storage_wrapper.js"],"sourcesContent":["/**\n * Manages event listeners relevant to the UI (menu bar, buttons, etc.) of the web page\n */\n'use strict';\n\nimport { localStorageWrapper } from './utils/local_storage_wrapper.js';\nimport { replaySaver } from './replay/replay_saver.js';\n\n/** @typedef {import('./pikavolley.js').PikachuVolleyball} PikachuVolleyball */\n/** @typedef {import('@pixi/ticker').Ticker} Ticker */\n/** @typedef {{graphic?: string, bgm?: string, sfx?: string, speed?: string, winningScore?: string}} Options */\n\n/**\n * Enum for \"game paused by what?\".\n * The greater the number, the higher the precedence.\n *\n * @readonly\n * @enum {number}\n */\nconst PauseResumePrecedence = {\n  pauseBtn: 3,\n  messageBox: 2,\n  dropdown: 1,\n  notPaused: 0,\n};\n\n\n\n/**\n * Manages pausing and resuming of the game\n */\nconst pauseResumeManager = {\n  /** @type {number} PauseResumePrecedence enum */\n  _precedence: PauseResumePrecedence.notPaused,\n  /**\n   * Pause game\n   * @param {PikachuVolleyball} pikaVolley\n   * @param {number} precedence PauseResumePrecedence enum\n   */\n  pause: function (pikaVolley, precedence) {\n    // @ts-ignore\n    if (precedence > this._precedence) {\n      pikaVolley.paused = true;\n      this._precedence = precedence;\n    }\n  },\n  /**\n   * Resume game\n   * @param {PikachuVolleyball} pikaVolley\n   * @param {number} precedence PauseResumePrecedence enum\n   */\n  resume: function (pikaVolley, precedence) {\n    if (precedence === this._precedence) {\n      pikaVolley.paused = false;\n      this._precedence = PauseResumePrecedence.notPaused;\n    }\n  },\n};\n\n/**\n * Set up the user interface: menu bar, buttons, dropdowns, submenus, etc.\n * @param {PikachuVolleyball} pikaVolley\n * @param {Ticker} ticker\n */\nexport function setUpUI(pikaVolley, ticker) {\n  /**\n   * Apply options\n   * @param {Options} options\n   */\n  const applyOptions = (options) => {\n    setSelectedOptionsBtn(options);\n    switch (options.graphic) {\n      case 'sharp':\n        document.getElementById('game-canvas').classList.remove('graphic-soft');\n        break;\n      case 'soft':\n        document.getElementById('game-canvas').classList.add('graphic-soft');\n        break;\n    }\n    switch (options.bgm) {\n      case 'on':\n        pikaVolley.audio.turnBGMVolume(true);\n        break;\n      case 'off':\n        pikaVolley.audio.turnBGMVolume(false);\n        break;\n    }\n    switch (options.sfx) {\n      case 'stereo':\n        pikaVolley.audio.turnSFXVolume(true);\n        pikaVolley.isStereoSound = true;\n        break;\n      case 'mono':\n        pikaVolley.audio.turnSFXVolume(true);\n        pikaVolley.isStereoSound = false;\n        break;\n      case 'off':\n        pikaVolley.audio.turnSFXVolume(false);\n        break;\n    }\n    switch (options.speed) {\n      case 'slow':\n        pikaVolley.normalFPS = 20;\n        ticker.maxFPS = pikaVolley.normalFPS;\n        break;\n      case 'medium':\n        pikaVolley.normalFPS = 25;\n        ticker.maxFPS = pikaVolley.normalFPS;\n        break;\n      case 'fast':\n        pikaVolley.normalFPS = 30;\n        ticker.maxFPS = pikaVolley.normalFPS;\n        break;\n    }\n    switch (options.winningScore) {\n      case '5':\n        pikaVolley.winningScore = 5;\n        break;\n      case '10':\n        pikaVolley.winningScore = 10;\n        break;\n      case '15':\n        pikaVolley.winningScore = 15;\n        break;\n    }\n  };\n\n  /**\n   * Save options\n   * @param {Options} options\n   */\n  const saveOptions = (options) => {\n    setSelectedOptionsBtn(options);\n    if (options.graphic) {\n      localStorageWrapper.set('pv-offline-graphic', options.graphic);\n    }\n    if (options.bgm) {\n      localStorageWrapper.set('pv-offline-bgm', options.bgm);\n    }\n    if (options.sfx) {\n      localStorageWrapper.set('pv-offline-sfx', options.sfx);\n    }\n    if (options.speed) {\n      localStorageWrapper.set('pv-offline-speed', options.speed);\n    }\n    if (options.winningScore) {\n      localStorageWrapper.set('pv-offline-winningScore', options.winningScore);\n    }\n  };\n\n  /**\n   * Load options\n   * @returns {Options}\n   */\n  const loadOptions = () => ({\n    graphic: localStorageWrapper.get('pv-offline-graphic'),\n    bgm: localStorageWrapper.get('pv-offline-bgm'),\n    sfx: localStorageWrapper.get('pv-offline-sfx'),\n    speed: localStorageWrapper.get('pv-offline-speed'),\n    winningScore: localStorageWrapper.get('pv-offline-winningScore'),\n  });\n\n  /**\n   * Apply and save options\n   * @param {Options} options\n   */\n  const applyAndSaveOptions = (options) => {\n    applyOptions(options);\n    saveOptions(options);\n  };\n\n  const saveReplayBtn = document.getElementById('save-replay-btn');\n  saveReplayBtn.addEventListener('click', () => {\n    replaySaver.saveAsFile();\n  });\n\n  // Load and apply saved options\n  applyOptions(loadOptions());\n\n  setUpBtns(pikaVolley, applyAndSaveOptions);\n  setUpToShowDropdownsAndSubmenus(pikaVolley);\n\n  // hide or show menubar if the user presses the \"esc\" key\n  window.addEventListener('keydown', (event) => {\n    if (event.code === 'Escape') {\n      const menuBar = document.getElementById('menu-bar');\n      if (menuBar.classList.contains('hidden')) {\n        menuBar.classList.remove('hidden');\n      } else {\n        menuBar.classList.add('hidden');\n      }\n      event.preventDefault();\n    } else if (event.code === 'Space') {\n      const aboutBox = document.getElementById('about-box');\n      if (aboutBox.classList.contains('hidden')) {\n        event.preventDefault();\n      }\n    }\n  });\n\n  document.addEventListener('visibilitychange', function () {\n    if (document.visibilityState === 'visible') {\n      pikaVolley.audio.unmuteAll();\n    } else {\n      pikaVolley.audio.muteAll();\n    }\n  });\n}\nfunction copyToClipboard(text) {\n\tnavigator.clipboard.writeText(text).then(() => {\n    \talert(\"복사되었습니다. 원하는 곳에 붙여넣기하여 주세요.\");\n    }).catch(() => {\n    \tprompt(\"키보드의 ctrl+C 또는 마우스 오른쪽의 복사하기를 이용해주세요.\",text);\n    });\n};\n\n/**\n * Attach event listeners to the buttons\n * @param {PikachuVolleyball} pikaVolley\n * @param {(options: Options) => void} applyAndSaveOptions\n */\n\nfunction setUpBtns(pikaVolley, applyAndSaveOptions) {\n  const gameDropdownBtn = document.getElementById('game-dropdown-btn');\n  const optionsDropdownBtn = document.getElementById('options-dropdown-btn');\n  const aboutBtn = document.getElementById('about-btn');\n  const codeCopyBtn = document.getElementById('code-copy-btn');\n\n  codeCopyBtn.addEventListener('click', () => {\n    const codeBlock = document.getElementById('code-viewer-output');\n    const text = codeBlock.textContent//|| codeBlock.innerText; ✅ 텍스트 추출\n    copyToClipboard(text);\n  });\n  // @ts-ignore\n  gameDropdownBtn.disabled = false;\n  // @ts-ignore\n  optionsDropdownBtn.disabled = false;\n  // @ts-ignore\n  aboutBtn.disabled = false;\n\n  const pauseBtn = document.getElementById('pause-btn');\n  pauseBtn.addEventListener('click', () => {\n    if (pauseBtn.classList.contains('selected')) {\n      pauseBtn.classList.remove('selected');\n      pauseResumeManager.resume(pikaVolley, PauseResumePrecedence.pauseBtn);\n    } else {\n      pauseBtn.classList.add('selected');\n      pauseResumeManager.pause(pikaVolley, PauseResumePrecedence.pauseBtn);\n    }\n  });\n\n  const restartBtn = document.getElementById('restart-btn');\n  restartBtn.addEventListener('click', () => {\n    if (pauseBtn.classList.contains('selected')) {\n      pauseBtn.classList.remove('selected');\n      pauseResumeManager.resume(pikaVolley, PauseResumePrecedence.pauseBtn);\n    }\n    replaySaver.cleanRecord();\n    pikaVolley.restart();\n  });\n\n  const graphicSharpBtn = document.getElementById('graphic-sharp-btn');\n  const graphicSoftBtn = document.getElementById('graphic-soft-btn');\n  graphicSharpBtn.addEventListener('click', () => {\n    applyAndSaveOptions({ graphic: 'sharp' });\n  });\n  graphicSoftBtn.addEventListener('click', () => {\n    applyAndSaveOptions({ graphic: 'soft' });\n  });\n\n  const bgmOnBtn = document.getElementById('bgm-on-btn');\n  const bgmOffBtn = document.getElementById('bgm-off-btn');\n  bgmOnBtn.addEventListener('click', () => {\n    applyAndSaveOptions({ bgm: 'on' });\n  });\n  bgmOffBtn.addEventListener('click', () => {\n    applyAndSaveOptions({ bgm: 'off' });\n  });\n\n  const stereoBtn = document.getElementById('stereo-btn');\n  const monoBtn = document.getElementById('mono-btn');\n  const sfxOffBtn = document.getElementById('sfx-off-btn');\n  stereoBtn.addEventListener('click', () => {\n    applyAndSaveOptions({ sfx: 'stereo' });\n  });\n  monoBtn.addEventListener('click', () => {\n    applyAndSaveOptions({ sfx: 'mono' });\n  });\n  sfxOffBtn.addEventListener('click', () => {\n    applyAndSaveOptions({ sfx: 'off' });\n  });\n\n  // Game speed:\n  //   slow: 1 frame per 50ms = 20 FPS\n  //   medium: 1 frame per 40ms = 25 FPS\n  //   fast: 1 frame per 33ms = 30.303030... FPS\n  const slowSpeedBtn = document.getElementById('slow-speed-btn');\n  const mediumSpeedBtn = document.getElementById('medium-speed-btn');\n  const fastSpeedBtn = document.getElementById('fast-speed-btn');\n  slowSpeedBtn.addEventListener('click', () => {\n    applyAndSaveOptions({ speed: 'slow' });\n  });\n  mediumSpeedBtn.addEventListener('click', () => {\n    applyAndSaveOptions({ speed: 'medium' });\n  });\n  fastSpeedBtn.addEventListener('click', () => {\n    applyAndSaveOptions({ speed: 'fast' });\n  });\n\n  const winningScore5Btn = document.getElementById('winning-score-5-btn');\n  const winningScore10Btn = document.getElementById('winning-score-10-btn');\n  const winningScore15Btn = document.getElementById('winning-score-15-btn');\n  const noticeBox1 = document.getElementById('notice-box-1');\n  const noticeOKBtn1 = document.getElementById('notice-ok-btn-1');\n  const winningScoreInNoticeBox1 = document.getElementById(\n    'winning-score-in-notice-box-1'\n  );\n  function isWinningScoreAlreadyReached(winningScore) {\n    const isGamePlaying =\n      pikaVolley.state === pikaVolley.round ||\n      pikaVolley.state === pikaVolley.afterEndOfRound ||\n      pikaVolley.state === pikaVolley.beforeStartOfNextRound;\n    if (\n      isGamePlaying &&\n      (pikaVolley.scores[0] >= winningScore ||\n        pikaVolley.scores[1] >= winningScore)\n    ) {\n      return true;\n    }\n    return false;\n  }\n  const noticeBox2 = document.getElementById('notice-box-2');\n  const noticeOKBtn2 = document.getElementById('notice-ok-btn-2');\n  winningScore5Btn.addEventListener('click', () => {\n    if (winningScore5Btn.classList.contains('selected')) {\n      return;\n    }\n    if (pikaVolley.isPracticeMode === true) {\n      noticeBox2.classList.remove('hidden');\n      // @ts-ignore\n      gameDropdownBtn.disabled = true;\n      // @ts-ignore\n      optionsDropdownBtn.disabled = true;\n      // @ts-ignore\n      aboutBtn.disabled = true;\n      pauseResumeManager.pause(pikaVolley, PauseResumePrecedence.messageBox);\n      return;\n    }\n    if (isWinningScoreAlreadyReached(5)) {\n      winningScoreInNoticeBox1.textContent = '5';\n      noticeBox1.classList.remove('hidden');\n      // @ts-ignore\n      gameDropdownBtn.disabled = true;\n      // @ts-ignore\n      optionsDropdownBtn.disabled = true;\n      // @ts-ignore\n      aboutBtn.disabled = true;\n      pauseResumeManager.pause(pikaVolley, PauseResumePrecedence.messageBox);\n      return;\n    }\n    applyAndSaveOptions({ winningScore: '5' });\n  });\n  winningScore10Btn.addEventListener('click', () => {\n    if (winningScore10Btn.classList.contains('selected')) {\n      return;\n    }\n    if (pikaVolley.isPracticeMode === true) {\n      noticeBox2.classList.remove('hidden');\n      // @ts-ignore\n      gameDropdownBtn.disabled = true;\n      // @ts-ignore\n      optionsDropdownBtn.disabled = true;\n      // @ts-ignore\n      aboutBtn.disabled = true;\n      pauseResumeManager.pause(pikaVolley, PauseResumePrecedence.messageBox);\n      return;\n    }\n    if (isWinningScoreAlreadyReached(10)) {\n      winningScoreInNoticeBox1.textContent = '10';\n      noticeBox1.classList.remove('hidden');\n      // @ts-ignore\n      gameDropdownBtn.disabled = true;\n      // @ts-ignore\n      optionsDropdownBtn.disabled = true;\n      // @ts-ignore\n      aboutBtn.disabled = true;\n      pauseResumeManager.pause(pikaVolley, PauseResumePrecedence.messageBox);\n      return;\n    }\n    applyAndSaveOptions({ winningScore: '10' });\n  });\n  winningScore15Btn.addEventListener('click', () => {\n    if (winningScore15Btn.classList.contains('selected')) {\n      return;\n    }\n    if (pikaVolley.isPracticeMode === true) {\n      noticeBox2.classList.remove('hidden');\n      // @ts-ignore\n      gameDropdownBtn.disabled = true;\n      // @ts-ignore\n      optionsDropdownBtn.disabled = true;\n      // @ts-ignore\n      aboutBtn.disabled = true;\n      pauseResumeManager.pause(pikaVolley, PauseResumePrecedence.messageBox);\n      return;\n    }\n    if (isWinningScoreAlreadyReached(15)) {\n      winningScoreInNoticeBox1.textContent = '15';\n      noticeBox1.classList.remove('hidden');\n      // @ts-ignore\n      gameDropdownBtn.disabled = true;\n      // @ts-ignore\n      optionsDropdownBtn.disabled = true;\n      // @ts-ignore\n      aboutBtn.disabled = true;\n      pauseResumeManager.pause(pikaVolley, PauseResumePrecedence.messageBox);\n      return;\n    }\n    applyAndSaveOptions({ winningScore: '15' });\n  });\n  noticeOKBtn1.addEventListener('click', () => {\n    if (!noticeBox1.classList.contains('hidden')) {\n      noticeBox1.classList.add('hidden');\n      // @ts-ignore\n      gameDropdownBtn.disabled = false;\n      // @ts-ignore\n      optionsDropdownBtn.disabled = false;\n      // @ts-ignore\n      aboutBtn.disabled = false;\n      pauseResumeManager.resume(pikaVolley, PauseResumePrecedence.messageBox);\n    }\n  });\n  noticeOKBtn2.addEventListener('click', () => {\n    if (!noticeBox2.classList.contains('hidden')) {\n      noticeBox2.classList.add('hidden');\n      // @ts-ignore\n      gameDropdownBtn.disabled = false;\n      // @ts-ignore\n      optionsDropdownBtn.disabled = false;\n      // @ts-ignore\n      aboutBtn.disabled = false;\n      pauseResumeManager.resume(pikaVolley, PauseResumePrecedence.messageBox);\n    }\n  });\n\n  const practiceModeOnBtn = document.getElementById('practice-mode-on-btn');\n  const practiceModeOffBtn = document.getElementById('practice-mode-off-btn');\n  practiceModeOnBtn.addEventListener('click', () => {\n    practiceModeOffBtn.classList.remove('selected');\n    practiceModeOnBtn.classList.add('selected');\n    pikaVolley.isPracticeMode = true;\n  });\n  practiceModeOffBtn.addEventListener('click', () => {\n    practiceModeOnBtn.classList.remove('selected');\n    practiceModeOffBtn.classList.add('selected');\n    pikaVolley.isPracticeMode = false;\n  });\n\n  const aboutBox = document.getElementById('about-box');\n  const closeAboutBtn = document.getElementById('close-about-btn');\n  aboutBtn.addEventListener('click', () => {\n    if (aboutBox.classList.contains('hidden')) {\n      aboutBox.classList.remove('hidden');\n      // @ts-ignore\n      gameDropdownBtn.disabled = true;\n      // @ts-ignore\n      optionsDropdownBtn.disabled = true;\n      pauseResumeManager.pause(pikaVolley, PauseResumePrecedence.messageBox);\n    } else {\n      aboutBox.classList.add('hidden');\n      // @ts-ignore\n      gameDropdownBtn.disabled = false;\n      // @ts-ignore\n      optionsDropdownBtn.disabled = false;\n      pauseResumeManager.resume(pikaVolley, PauseResumePrecedence.messageBox);\n    }\n  });\n  closeAboutBtn.addEventListener('click', () => {\n    if (!aboutBox.classList.contains('hidden')) {\n      aboutBox.classList.add('hidden');\n      // @ts-ignore\n      gameDropdownBtn.disabled = false;\n      // @ts-ignore\n      optionsDropdownBtn.disabled = false;\n      pauseResumeManager.resume(pikaVolley, PauseResumePrecedence.messageBox);\n    }\n  });\n\n  const resetToDefaultBtn = document.getElementById('reset-to-default-btn');\n  resetToDefaultBtn.addEventListener('click', () => {\n    // turn off practice mode\n    practiceModeOffBtn.click();\n\n    // and restore the reset options to default\n    const defaultOptions = {\n      graphic: 'sharp',\n      bgm: 'on',\n      sfx: 'stereo',\n      speed: 'medium',\n      winningScore: '15',\n    };\n    applyAndSaveOptions(defaultOptions);\n  });\n}\n\n/**\n * Set selected (checked) options btn fit to options\n * @param {Options} options\n */\nfunction setSelectedOptionsBtn(options) {\n  if (options.graphic) {\n    const graphicSharpBtn = document.getElementById('graphic-sharp-btn');\n    const graphicSoftBtn = document.getElementById('graphic-soft-btn');\n    switch (options.graphic) {\n      case 'sharp':\n        graphicSoftBtn.classList.remove('selected');\n        graphicSharpBtn.classList.add('selected');\n        break;\n      case 'soft':\n        graphicSharpBtn.classList.remove('selected');\n        graphicSoftBtn.classList.add('selected');\n        break;\n    }\n  }\n  if (options.bgm) {\n    const bgmOnBtn = document.getElementById('bgm-on-btn');\n    const bgmOffBtn = document.getElementById('bgm-off-btn');\n    switch (options.bgm) {\n      case 'on':\n        bgmOffBtn.classList.remove('selected');\n        bgmOnBtn.classList.add('selected');\n        break;\n      case 'off':\n        bgmOnBtn.classList.remove('selected');\n        bgmOffBtn.classList.add('selected');\n        break;\n    }\n  }\n  if (options.sfx) {\n    const stereoBtn = document.getElementById('stereo-btn');\n    const monoBtn = document.getElementById('mono-btn');\n    const sfxOffBtn = document.getElementById('sfx-off-btn');\n    switch (options.sfx) {\n      case 'stereo':\n        monoBtn.classList.remove('selected');\n        sfxOffBtn.classList.remove('selected');\n        stereoBtn.classList.add('selected');\n        break;\n      case 'mono':\n        sfxOffBtn.classList.remove('selected');\n        stereoBtn.classList.remove('selected');\n        monoBtn.classList.add('selected');\n        break;\n      case 'off':\n        stereoBtn.classList.remove('selected');\n        monoBtn.classList.remove('selected');\n        sfxOffBtn.classList.add('selected');\n        break;\n    }\n  }\n  if (options.speed) {\n    const slowSpeedBtn = document.getElementById('slow-speed-btn');\n    const mediumSpeedBtn = document.getElementById('medium-speed-btn');\n    const fastSpeedBtn = document.getElementById('fast-speed-btn');\n    switch (options.speed) {\n      case 'slow':\n        mediumSpeedBtn.classList.remove('selected');\n        fastSpeedBtn.classList.remove('selected');\n        slowSpeedBtn.classList.add('selected');\n        break;\n      case 'medium':\n        fastSpeedBtn.classList.remove('selected');\n        slowSpeedBtn.classList.remove('selected');\n        mediumSpeedBtn.classList.add('selected');\n        break;\n      case 'fast':\n        slowSpeedBtn.classList.remove('selected');\n        mediumSpeedBtn.classList.remove('selected');\n        fastSpeedBtn.classList.add('selected');\n        break;\n    }\n  }\n  if (options.winningScore) {\n    const winningScore5Btn = document.getElementById('winning-score-5-btn');\n    const winningScore10Btn = document.getElementById('winning-score-10-btn');\n    const winningScore15Btn = document.getElementById('winning-score-15-btn');\n    switch (options.winningScore) {\n      case '5':\n        winningScore10Btn.classList.remove('selected');\n        winningScore15Btn.classList.remove('selected');\n        winningScore5Btn.classList.add('selected');\n        break;\n      case '10':\n        winningScore15Btn.classList.remove('selected');\n        winningScore5Btn.classList.remove('selected');\n        winningScore10Btn.classList.add('selected');\n        break;\n      case '15':\n        winningScore5Btn.classList.remove('selected');\n        winningScore10Btn.classList.remove('selected');\n        winningScore15Btn.classList.add('selected');\n        break;\n    }\n  }\n}\n\n/**\n * Attach event listeners to show dropdowns and submenus properly\n * @param {PikachuVolleyball} pikaVolley\n */\nfunction setUpToShowDropdownsAndSubmenus(pikaVolley) {\n  // hide dropdowns and submenus if the user clicks outside of these\n  window.addEventListener('click', (event) => {\n    // @ts-ignore\n    if (!event.target.matches('.dropdown-btn, .submenu-btn')) {\n      hideSubmenus();\n      hideDropdownsExcept('');\n      pauseResumeManager.resume(pikaVolley, PauseResumePrecedence.dropdown);\n    }\n  });\n\n  // set up to show dropdowns\n  document.getElementById('game-dropdown-btn').addEventListener('click', () => {\n    toggleDropdown('game-dropdown', pikaVolley);\n  });\n  document\n    .getElementById('options-dropdown-btn')\n    .addEventListener('click', () => {\n      toggleDropdown('options-dropdown', pikaVolley);\n    });\n\n  // set up to show submenus on mouseover event\n  document\n    .getElementById('graphic-submenu-btn')\n    .addEventListener('mouseover', () => {\n      showSubmenu('graphic-submenu-btn', 'graphic-submenu');\n    });\n  document\n    .getElementById('bgm-submenu-btn')\n    .addEventListener('mouseover', () => {\n      showSubmenu('bgm-submenu-btn', 'bgm-submenu');\n    });\n  document\n    .getElementById('sfx-submenu-btn')\n    .addEventListener('mouseover', () => {\n      showSubmenu('sfx-submenu-btn', 'sfx-submenu');\n    });\n  document\n    .getElementById('speed-submenu-btn')\n    .addEventListener('mouseover', () => {\n      showSubmenu('speed-submenu-btn', 'speed-submenu');\n    });\n  document\n    .getElementById('winning-score-submenu-btn')\n    .addEventListener('mouseover', () => {\n      showSubmenu('winning-score-submenu-btn', 'winning-score-submenu');\n    });\n  document\n    .getElementById('practice-mode-submenu-btn')\n    .addEventListener('mouseover', () => {\n      showSubmenu('practice-mode-submenu-btn', 'practice-mode-submenu');\n    });\n  document\n    .getElementById('reset-to-default-btn')\n    .addEventListener('mouseover', () => {\n      hideSubmenus();\n    });\n\n  // set up to show submenus on click event\n  // (it is for touch device equipped with physical keyboard)\n  document.getElementById('bgm-submenu-btn').addEventListener('click', () => {\n    showSubmenu('bgm-submenu-btn', 'bgm-submenu');\n  });\n  document.getElementById('sfx-submenu-btn').addEventListener('click', () => {\n    showSubmenu('sfx-submenu-btn', 'sfx-submenu');\n  });\n  document.getElementById('speed-submenu-btn').addEventListener('click', () => {\n    showSubmenu('speed-submenu-btn', 'speed-submenu');\n  });\n  document\n    .getElementById('winning-score-submenu-btn')\n    .addEventListener('click', () => {\n      showSubmenu('winning-score-submenu-btn', 'winning-score-submenu');\n    });\n  document\n    .getElementById('practice-mode-submenu-btn')\n    .addEventListener('click', () => {\n      showSubmenu('practice-mode-submenu-btn', 'practice-mode-submenu');\n    });\n  document\n    .getElementById('reset-to-default-btn')\n    .addEventListener('click', () => {\n      hideSubmenus();\n    });\n}\n\n/**\n * Toggle (show or hide) the dropdown menu\n * @param {string} dropdownID html element id of the dropdown to toggle\n * @param {PikachuVolleyball} pikaVolley\n */\nfunction toggleDropdown(dropdownID, pikaVolley) {\n  hideSubmenus();\n  hideDropdownsExcept(dropdownID);\n  const willShow = document.getElementById(dropdownID).classList.toggle('show');\n  if (willShow) {\n    pauseResumeManager.pause(pikaVolley, PauseResumePrecedence.dropdown);\n  } else {\n    pauseResumeManager.resume(pikaVolley, PauseResumePrecedence.dropdown);\n  }\n}\n\n/**\n * Show the submenu\n * @param {string} submenuBtnID html element id of the submenu button whose submenu to show\n * @param {string} subMenuID html element id of the submenu to show\n */\nfunction showSubmenu(submenuBtnID, subMenuID) {\n  hideSubmenus();\n  document.getElementById(submenuBtnID).classList.add('open');\n  document.getElementById(subMenuID).classList.add('show');\n}\n\n/**\n * Hide all other dropdowns except the dropdown\n * @param {string} dropdownID html element id of the dropdown\n */\nfunction hideDropdownsExcept(dropdownID) {\n  const dropdowns = document.getElementsByClassName('dropdown');\n  for (let i = 0; i < dropdowns.length; i++) {\n    if (dropdowns[i].id !== dropdownID) {\n      dropdowns[i].classList.remove('show');\n    }\n  }\n}\n\n/**\n * Hide all submenus\n */\nfunction hideSubmenus() {\n  const submenus = document.getElementsByClassName('submenu');\n  for (let i = 0; i < submenus.length; i++) {\n    submenus[i].classList.remove('show');\n  }\n  const submenuBtns = document.getElementsByClassName('submenu-btn');\n  for (let i = 0; i < submenuBtns.length; i++) {\n    submenuBtns[i].classList.remove('open');\n  }\n}\n","/**\n * This is the main script which executes the game.\n * General explanations for the all source code files of the game are following.\n *\n ********************************************************************************************************************\n * This web version of the Pikachu Volleyball is made by\n * reverse engineering the core part of the original Pikachu Volleyball game\n * which is developed by \"1997 (C) SACHI SOFT / SAWAYAKAN Programmers\" & \"1997 (C) Satoshi Takenouchi\".\n *\n * \"physics.js\", \"cloud_and_wave.js\", and some codes in \"view.js\" are the results of this reverse engineering.\n * Refer to the comments in each file for the machine code addresses of the original functions.\n ********************************************************************************************************************\n *\n * This web version game is mainly composed of three parts which follows MVC pattern.\n *  1) \"physics.js\" (Model): The physics engine which takes charge of the dynamics of the ball and the players (Pikachus).\n *                           It is gained by reverse engineering the machine code of the original game.\n *  2) \"view.js\" (View): The rendering part of the game which depends on pixi.js (https://www.pixijs.com/, https://github.com/pixijs/pixi.js) library.\n *                       Some codes in this part is gained by reverse engineering the original machine code.\n *  3) \"pikavolley.js\" (Controller): Make the game work by controlling the Model and the View according to the user input.\n *\n * And explanations for other source files are below.\n *  - \"cloud_and_wave.js\": This is also a Model part which takes charge of the clouds and wave motion in the game. Of course, it is also rendered by \"view.js\".\n *                         It is also gained by reverse engineering the original machine code.\n *  - \"keyboard.js\": Support the Controller(\"pikavolley.js\") to get a user input via keyboard.\n *  - \"audio.js\": The game audio or sounds. It depends on pixi-sound (https://github.com/pixijs/pixi-sound) library.\n *  - \"rand.js\": For the random function used in the Models (\"physics.js\", \"cloud_and_wave.js\").\n *  - \"assets_path.js\": For the assets (image files, sound files) locations.\n *  - \"ui.js\": For the user interface (menu bar, buttons etc.) of the html page.\n */\n'use strict';\nimport { settings } from '@pixi/settings';\nimport { SCALE_MODES } from '@pixi/constants';\nimport { Renderer, BatchRenderer, autoDetectRenderer } from '@pixi/core';\nimport { Prepare } from '@pixi/prepare';\nimport { Container } from '@pixi/display';\nimport { Loader } from '@pixi/loaders';\nimport { SpritesheetLoader } from '@pixi/spritesheet';\nimport { Ticker } from '@pixi/ticker';\nimport { CanvasRenderer } from '@pixi/canvas-renderer';\nimport { CanvasSpriteRenderer } from '@pixi/canvas-sprite';\nimport { CanvasPrepare } from '@pixi/canvas-prepare';\nimport '@pixi/canvas-display';\nimport { PikachuVolleyball } from './pikavolley.js';\nimport { ASSETS_PATH } from './assets_path.js';\nimport { setUpUI } from './ui.js';\n\n// Reference for how to use Renderer.registerPlugin:\n// https://github.com/pixijs/pixijs/blob/af3c0c6bb15aeb1049178c972e4a14bb4cabfce4/bundles/pixi.js/src/index.ts#L27-L34\nRenderer.registerPlugin('prepare', Prepare);\nRenderer.registerPlugin('batch', BatchRenderer);\n// Reference for how to use CanvasRenderer.registerPlugin:\n// https://github.com/pixijs/pixijs/blob/af3c0c6bb15aeb1049178c972e4a14bb4cabfce4/bundles/pixi.js-legacy/src/index.ts#L13-L19\nCanvasRenderer.registerPlugin('prepare', CanvasPrepare);\nCanvasRenderer.registerPlugin('sprite', CanvasSpriteRenderer);\nLoader.registerPlugin(SpritesheetLoader);\n\n// Set settings.RESOLUTION to 2 instead of 1 to make the game screen do not look\n// much blurry in case of the image rendering mode of 'image-rendering: auto',\n// which is like bilinear interpolation, which is used in \"soft\" game graphic option.\nsettings.RESOLUTION = 2;\nsettings.SCALE_MODE = SCALE_MODES.NEAREST;\nsettings.ROUND_PIXELS = true;\n\nconst renderer = autoDetectRenderer({\n  width: 432,\n  height: 304,\n  antialias: false,\n  backgroundColor: 0x000000,\n  backgroundAlpha: 1,\n  // Decided to use only Canvas for compatibility reason. One player had reported that\n  // on their browser, where pixi chooses to use WebGL renderer, the graphics are not fine.\n  // And the issue had been fixed by using Canvas renderer. And also for the sake of testing,\n  // it is more comfortable just to stick with Canvas renderer so that it is unnecessary to switch\n  // between WebGL renderer and Canvas renderer.\n  forceCanvas: true,\n});\n\nconst stage = new Container();\nconst ticker = new Ticker();\nconst loader = new Loader();\n\nrenderer.view.setAttribute('id', 'game-canvas');\ndocument.getElementById('game-canvas-container').appendChild(renderer.view);\nrenderer.render(stage); // To make the initial canvas painting stable in the Firefox browser.\n\nloader.add(ASSETS_PATH.SPRITE_SHEET);\nfor (const prop in ASSETS_PATH.SOUNDS) {\n  loader.add(ASSETS_PATH.SOUNDS[prop]);\n}\nsetUpInitialUI();\n\n/**\n * Set up the initial UI.\n */\nfunction setUpInitialUI() {\n  const loadingBox = document.getElementById('loading-box');\n  const progressBar = document.getElementById('progress-bar');\n  loader.onProgress.add(() => {\n    progressBar.style.width = `${loader.progress}%`;\n  });\n  loader.onComplete.add(() => {\n    loadingBox.classList.add('hidden');\n  });\n\n  const aboutBox = document.getElementById('about-box');\n  const aboutBtn = document.getElementById('about-btn');\n  const closeAboutBtn = document.getElementById('close-about-btn');\n  const gameDropdownBtn = document.getElementById('game-dropdown-btn');\n  const optionsDropdownBtn = document.getElementById('options-dropdown-btn');\n  // @ts-ignore\n  gameDropdownBtn.disabled = true;\n  // @ts-ignore\n  optionsDropdownBtn.disabled = true;\n  const closeAboutBox = () => {\n    if (!aboutBox.classList.contains('hidden')) {\n      aboutBox.classList.add('hidden');\n      // @ts-ignore\n      aboutBtn.disabled = true;\n    }\n    aboutBtn.getElementsByClassName('text-play')[0].classList.add('hidden');\n    aboutBtn.getElementsByClassName('text-about')[0].classList.remove('hidden');\n    aboutBtn.classList.remove('glow');\n    closeAboutBtn\n      .getElementsByClassName('text-play')[0]\n      .classList.add('hidden');\n    closeAboutBtn\n      .getElementsByClassName('text-close')[0]\n      .classList.remove('hidden');\n    closeAboutBtn.classList.remove('glow');\n\n    loader.load(setup); // setup is called after loader finishes loading\n    loadingBox.classList.remove('hidden');\n    aboutBtn.removeEventListener('click', closeAboutBox);\n    closeAboutBtn.removeEventListener('click', closeAboutBox);\n  };\n  aboutBtn.addEventListener('click', closeAboutBox);\n  closeAboutBtn.addEventListener('click', closeAboutBox);\n}\n\n/**\n * Set up the game and the full UI, and start the game.\n */\nfunction setup() {\n  const pikaVolley = new PikachuVolleyball(stage, loader.resources);\n  setUpUI(pikaVolley, ticker);\n  start(pikaVolley);\n}\n\n/**\n * Start the game.\n * @param {PikachuVolleyball} pikaVolley\n */\nfunction start(pikaVolley) {\n  ticker.maxFPS = pikaVolley.normalFPS;\n  ticker.add(() => {\n    pikaVolley.gameLoop();\n    renderer.render(stage);\n  });\n  ticker.start();\n}\n","export const localStorageWrapper = {\n  /**\n   * Get value corresponding to the key from localStorage\n   * @param {string} key\n   * @returns {string|null}\n   */\n  get: (key) => {\n    let value = null;\n    try {\n      value = localStorage.getItem(key);\n    } catch (err) {\n      console.error(err);\n    }\n    return value;\n  },\n\n  /*\n   * Set key-value pair to the localStorage\n   * @param {string} key\n   * @param {string} value\n   */\n  set: (key, value) => {\n    try {\n      localStorage.setItem(key, value);\n    } catch (err) {\n      console.error(err);\n    }\n  },\n};\n"],"names":["pauseResumeManager","_precedence","pause","pikaVolley","precedence","this","paused","resume","setSelectedOptionsBtn","options","graphic","graphicSharpBtn","document","getElementById","graphicSoftBtn","classList","remove","add","bgm","bgmOnBtn","bgmOffBtn","sfx","stereoBtn","monoBtn","sfxOffBtn","speed","slowSpeedBtn","mediumSpeedBtn","fastSpeedBtn","winningScore","winningScore5Btn","winningScore10Btn","winningScore15Btn","toggleDropdown","dropdownID","hideSubmenus","hideDropdownsExcept","toggle","showSubmenu","submenuBtnID","subMenuID","dropdowns","getElementsByClassName","i","length","id","submenus","submenuBtns","registerPlugin","settings","RESOLUTION","SCALE_MODE","NEAREST","ROUND_PIXELS","renderer","width","height","antialias","backgroundColor","backgroundAlpha","forceCanvas","stage","loader","view","setAttribute","appendChild","render","SPRITE_SHEET","prop","SOUNDS","setup","resources","ticker","applyOptions","audio","turnBGMVolume","turnSFXVolume","isStereoSound","normalFPS","maxFPS","addEventListener","saveAsFile","get","applyAndSaveOptions","gameDropdownBtn","optionsDropdownBtn","aboutBtn","text","textContent","navigator","clipboard","writeText","then","alert","catch","prompt","disabled","pauseBtn","contains","cleanRecord","restart","noticeBox1","noticeOKBtn1","winningScoreInNoticeBox1","isWinningScoreAlreadyReached","state","round","afterEndOfRound","beforeStartOfNextRound","scores","noticeBox2","noticeOKBtn2","isPracticeMode","practiceModeOnBtn","practiceModeOffBtn","aboutBox","closeAboutBtn","click","setUpBtns","set","saveOptions","window","event","target","matches","setUpToShowDropdownsAndSubmenus","code","menuBar","preventDefault","visibilityState","unmuteAll","muteAll","setUpUI","gameLoop","start","loadingBox","progressBar","onProgress","style","progress","onComplete","closeAboutBox","load","removeEventListener","setUpInitialUI","localStorageWrapper","key","value","localStorage","getItem","err","console","error","setItem"],"sourceRoot":""}