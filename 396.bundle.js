(self.webpackChunkpikachu_volleyball=self.webpackChunkpikachu_volleyball||[]).push([[396],{127:(e,t,i)=>{"use strict";i.d(t,{H:()=>s,d:()=>o});var r=i(772);function s(e){var t=0;switch(e.xDirection){case 1:t+=1;break;case-1:t+=3}switch(e.yDirection){case 1:t+=4;break;case-1:t+=12}return 1===e.powerHit&&(t+=16),t}function o(e){var t=new r.BF;switch(e%4){case 0:t.xDirection=0;break;case 1:t.xDirection=1;break;case 3:t.xDirection=-1}switch((e>>>2)%4){case 0:t.yDirection=0;break;case 1:t.yDirection=1;break;case 3:t.yDirection=-1}return t.powerHit=e>>>4,t}},134:(e,t,i)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function s(e){return Array.isArray(e)?JSON.stringify(e.map((function(e){return s(e)}))):"object"===r(e)&&null!==e?Object.keys(e).sort().map((function(t){return"".concat(t,":").concat(s(e[t]))})).join("|"):e}i.d(t,{l:()=>s})},141:(e,t,i)=>{"use strict";i.d(t,{Es:()=>u,S0:()=>c,wH:()=>l});var r=i(427);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function a(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}var u=function(){return a((function e(){o(this,e),this.topLeftPointX=(0,r._9)()%500-68,this.topLeftPointY=(0,r._9)()%152,this.topLeftPointXVelocity=1+(0,r._9)()%2,this.sizeDiffTurnNumber=(0,r._9)()%11}),[{key:"sizeDiff",get:function(){return 5-Math.abs(this.sizeDiffTurnNumber-5)}},{key:"spriteTopLeftPointX",get:function(){return this.topLeftPointX-this.sizeDiff}},{key:"spriteTopLeftPointY",get:function(){return this.topLeftPointY-this.sizeDiff}},{key:"spriteWidth",get:function(){return 48+2*this.sizeDiff}},{key:"spriteHeight",get:function(){return 24+2*this.sizeDiff}}])}(),l=a((function e(){o(this,e),this.verticalCoord=0,this.verticalCoordVelocity=2,this.yCoords=[];for(var t=0;t<27;t++)this.yCoords.push(314)}));function c(e,t){for(var i=0;i<10;i++)e[i].topLeftPointX+=e[i].topLeftPointXVelocity,e[i].topLeftPointX>432&&(e[i].topLeftPointX=-68,e[i].topLeftPointY=(0,r._9)()%152,e[i].topLeftPointXVelocity=1+(0,r._9)()%2),e[i].sizeDiffTurnNumber=(e[i].sizeDiffTurnNumber+1)%11;t.verticalCoord+=t.verticalCoordVelocity,t.verticalCoord>32?(t.verticalCoord=32,t.verticalCoordVelocity=-1):t.verticalCoord<0&&t.verticalCoordVelocity<0&&(t.verticalCoordVelocity=2,t.verticalCoord=-(0,r._9)()%40);for(var s=0;s<27;s++)t.yCoords[s]=314-t.verticalCoord+(0,r._9)()%3}},187:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var r=i(213),s=i(134),o=i(912),n=i(127);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function h(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var l=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.frameCounter=0,this.roomID="",this.nicknames=["",""],this.partialPublicIPs=["",""],this.inputs=[],this.options=[[0,{speed:"fast",winningScore:15}]],this.chats=[]},(t=[{key:"recordRoomID",value:function(e){this.roomID=e}},{key:"recordNicknames",value:function(e,t){this.nicknames[0]=e,this.nicknames[1]=t}},{key:"recordPartialPublicIPs",value:function(e,t){this.partialPublicIPs[0]=e,this.partialPublicIPs[1]=t}},{key:"recordInputs",value:function(e,t){var i=((0,n.H)(e)<<5)+(0,n.H)(t);this.inputs.push(i),this.frameCounter++}},{key:"cleanRecord",value:function(){this.inputs=[],this.frameCounter=0}},{key:"recordOptions",value:function(e){this.options.push([this.frameCounter,e])}},{key:"recordChats",value:function(e,t){this.chats.push([this.frameCounter,t,e])}},{key:"saveAsFile",value:function(){var e={version:"p2p-online",roomID:this.roomID,nicknames:this.nicknames,partialPublicIPs:this.partialPublicIPs,chats:this.chats,options:this.options,inputs:this.inputs,hash:0},t=(0,o.i)((0,s.l)(e));e.hash=t;var i={_comment:"Replay Viewer at: https://gorisanson.github.io/pikachu-volleyball-p2p-online/en/replay/",pack:e},n=new Blob([JSON.stringify(i)],{type:"text/plain;charset=utf-8"}),a=new Date,h="".concat(a.getFullYear()).concat(("0"+(a.getMonth()+1)).slice(-2)).concat(("0"+a.getDate()).slice(-2),"_").concat(("0"+a.getHours()).slice(-2)).concat(("0"+a.getMinutes()).slice(-2),"_").concat(this.nicknames[0],"_").concat(this.partialPublicIPs[0].replace(".*.*",""),"_vs_").concat(this.nicknames[1],"_").concat(this.partialPublicIPs[1].replace(".*.*",""),".txt").replace(/[/\\?%*:|"<>]/g,"_");(0,r.saveAs)(n,h,{autoBom:!0})}}])&&h(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}())},234:()=>{},339:(e,t,i)=>{"use strict";i.d(t,{q:()=>Z});var r=i(772),s=i(819),o=i(153),n=i(449),a=i(141),h=i(591);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function y(e,t,i){return t&&c(e.prototype,t),i&&c(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=u(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}var p=h.I.TEXTURES,d=function(){return y((function e(t){l(this,e);var i=t[h.I.SPRITE_SHEET].textures;this.mark=w(i,p.MARK,.5,.5),this.mark.x=216,this.mark.y=152,this.container=new n.mc,this.container.addChild(this.mark)}),[{key:"visible",get:function(){return this.container.visible},set:function(e){this.container.visible=e}},{key:"drawMark",value:function(e){var t=this.mark;0!==e?e<100?t.alpha=Math.min(1,t.alpha+.04):e>=100&&(t.alpha=Math.max(0,t.alpha-.04)):t.alpha=0}}])}(),m=function(){return y((function e(t){l(this,e);var i=t[h.I.SPRITE_SHEET].textures;this.messages={pokemon:w(i,p.POKEMON,0,0),pikachuVolleyball:w(i,p.PIKACHU_VOLLEYBALL,0,0),withWho:[w(i,p.WITH_COMPUTER,0,0),w(i,p.WITH_FRIEND,0,0)],sachisoft:w(i,p.SACHISOFT,0,0),fight:w(i,p.FIGHT,0,0)},this.sittingPikachuTilesContainer=function(e){for(var t=new n.mc,i=e[p.SITTING_PIKACHU],r=i.width,s=i.height,a=0;a<Math.floor(304/s)+2;a++)for(var h=0;h<Math.floor(432/r)+2;h++)k(t,new o.k(i),r*h,s*a);return t}(i),this.messages.sachisoft.x=216-this.messages.sachisoft.texture.width/2,this.messages.sachisoft.y=264,this.messages.pikachuVolleyball.x=140,this.messages.pikachuVolleyball.y=80,this.messages.pokemon.x=170,this.messages.pokemon.y=40,this.container=new n.mc,this.container.addChild(this.sittingPikachuTilesContainer),this.container.addChild(this.messages.pokemon),this.container.addChild(this.messages.pikachuVolleyball),this.container.addChild(this.messages.withWho[0]),this.container.addChild(this.messages.withWho[1]),this.container.addChild(this.messages.sachisoft),this.container.addChild(this.messages.fight),this.initializeVisibles(),this.sittingPikachuTilesDisplacement=0,this.selectedWithWho=-1,this.selectedWithWhoMessageSizeIncrement=2}),[{key:"visible",get:function(){return this.container.visible},set:function(e){this.container.visible=e,!1===e&&this.initializeVisibles()}},{key:"initializeVisibles",value:function(){for(var e in this.messages)this.messages[e].visible=!1}},{key:"drawFightMessage",value:function(e){var t=[20,22,25,27,30,27,25,22,20],i=this.messages.fight,r=i.texture.width,s=i.texture.height;if(0===e&&(i.visible=!0),e<30){var o=Math.floor(Math.floor(e*r/30)/2),n=Math.floor(Math.floor(e*s/30)/2);i.width=2*o,i.height=2*n,i.x=100-o,i.y=70-n}else{var a=(e+1)%9,h=Math.floor(Math.floor(t[a]*r/30)/2),u=Math.floor(Math.floor(t[a]*s/30)/2);i.width=2*h,i.height=2*u,i.y=70-u,i.x=100-h}}},{key:"drawSachisoft",value:function(e){0===e&&(this.messages.sachisoft.visible=!0,this.messages.sachisoft.alpha=0),this.messages.sachisoft.alpha=Math.min(1,this.messages.sachisoft.alpha+.04),e>70&&(this.messages.sachisoft.alpha=1)}},{key:"drawSittingPikachuTiles",value:function(e){0===e&&(this.sittingPikachuTilesContainer.visible=!0,this.sittingPikachuTilesContainer.alpha=0);var t=this.sittingPikachuTilesContainer.getChildAt(0).texture.height;this.sittingPikachuTilesDisplacement=(this.sittingPikachuTilesDisplacement+2)%t,this.sittingPikachuTilesContainer.x=-this.sittingPikachuTilesDisplacement,this.sittingPikachuTilesContainer.y=-this.sittingPikachuTilesDisplacement,e>30&&(this.sittingPikachuTilesContainer.alpha=Math.min(1,this.sittingPikachuTilesContainer.alpha+.04)),e>70&&(this.sittingPikachuTilesContainer.alpha=1)}},{key:"drawPikachuVolleyballMessage",value:function(e){if(0!==e)if(e>30&&(this.messages.pikachuVolleyball.visible=!0),e>30&&e<=44){var t=195-15*(e-30);this.messages.pikachuVolleyball.x=140+t}else e>44&&e<=55?(this.messages.pikachuVolleyball.x=140,this.messages.pikachuVolleyball.width=200-15*(e-44)):e>55&&e<=71?(this.messages.pikachuVolleyball.x=140,this.messages.pikachuVolleyball.width=40+15*(e-55)):e>71&&(this.messages.pikachuVolleyball.x=140,this.messages.pikachuVolleyball.width=this.messages.pikachuVolleyball.texture.width);else this.messages.pikachuVolleyball.visible=!1}},{key:"drawPokemonMessage",value:function(e){0!==e?e>71&&(this.messages.pokemon.visible=!0):this.messages.pokemon.visible=!1}},{key:"drawWithWhoMessages",value:function(e){var t=this.messages.withWho,i=t[0].texture.width,r=t[0].texture.height;if(0!==e){if(e>70){this.selectedWithWhoMessageSizeIncrement<10&&(this.selectedWithWhoMessageSizeIncrement+=1);for(var s=0;s<2;s++){var o=Number(this.selectedWithWho===s),n=o*(this.selectedWithWhoMessageSizeIncrement+2),a=o*this.selectedWithWhoMessageSizeIncrement;t[s].visible=!0,t[s].x=216-i/2-n,t[s].y=184+30*s-a,t[s].width=i+2*n,t[s].height=r+2*a}}}else for(var h=0;h<2;h++)t[h].visible=!1}},{key:"selectWithWho",value:function(e){this.selectedWithWho=e,this.selectedWithWhoMessageSizeIncrement=2}}])}(),b=function(){return y((function e(t){l(this,e);var i=t[h.I.SPRITE_SHEET].textures;this.bgContainer=function(e){for(var t=new n.mc,i=e[p.SKY_BLUE],r=0;r<12;r++)for(var s=0;s<27;s++)k(t,new o.k(i),16*s,16*r);i=e[p.MOUNTAIN],k(t,new o.k(i),0,188),i=e[p.GROUND_RED];for(var a=0;a<27;a++)k(t,new o.k(i),16*a,248);i=e[p.GROUND_LINE];for(var h=1;h<26;h++)k(t,new o.k(i),16*h,264);i=e[p.GROUND_LINE_LEFT_MOST],k(t,new o.k(i),0,264),i=e[p.GROUND_LINE_RIGHT_MOST],k(t,new o.k(i),416,264),i=e[p.GROUND_YELLOW];for(var u=0;u<2;u++)for(var l=0;l<27;l++)k(t,new o.k(i),16*l,280+16*u);i=e[p.NET_PILLAR_TOP],k(t,new o.k(i),213,176),i=e[p.NET_PILLAR];for(var c=0;c<12;c++)k(t,new o.k(i),213,184+8*c);return t}(i);var r=function(e){for(var t=function(t,i){return e[p.PIKACHU(t,i)]},i=[],r=0;r<7;r++)if(3===r)i.push(t(r,0)),i.push(t(r,1));else if(4===r)i.push(t(r,0));else for(var o=0;o<5;o++)i.push(t(r,o));var n=new s.D(i,!1),a=new s.D(i,!1);return n.anchor.x=.5,n.anchor.y=.5,a.anchor.x=.5,a.anchor.y=.5,[n,a]}(i);this.player1=r[0],this.player2=r[1],this.ball=function(e){var t=function(t){return e[p.BALL(t)]},i=[t(0),t(1),t(2),t(3),t(4),t("hyper")],r=new s.D(i,!1);return r.anchor.x=.5,r.anchor.y=.5,r}(i),this.ballHyper=w(i,p.BALL_HYPER,.5,.5),this.ballTrail=w(i,p.BALL_TRAIL,.5,.5),this.punch=w(i,p.BALL_PUNCH,.5,.5),this.scoreBoards=[g(i),g(i)],this.shadows={forPlayer1:w(i,p.SHADOW,.5,.5),forPlayer2:w(i,p.SHADOW,.5,.5),forBall:w(i,p.SHADOW,.5,.5)},this.messages={gameStart:w(i,p.GAME_START,0,0),ready:w(i,p.READY,0,0),gameEnd:w(i,p.GAME_END,0,0)},this.cloudContainer=function(e){for(var t=new n.mc,i=e[p.CLOUD],r=0;r<10;r++){var s=new o.k(i);s.anchor.x=0,s.anchor.y=0,t.addChild(s)}return t}(i),this.waveContainer=function(e){for(var t=new n.mc,i=e[p.WAVE],r=0;r<27;r++)k(t,new o.k(i),16*r,0);return t}(i),this.container=new n.mc,this.container.addChild(this.bgContainer),this.container.addChild(this.cloudContainer),this.container.addChild(this.waveContainer),this.container.addChild(this.shadows.forPlayer1),this.container.addChild(this.shadows.forPlayer2),this.container.addChild(this.shadows.forBall),this.container.addChild(this.player1),this.container.addChild(this.player2),this.container.addChild(this.ballTrail),this.container.addChild(this.ballHyper),this.container.addChild(this.ball),this.container.addChild(this.punch),this.container.addChild(this.scoreBoards[0]),this.container.addChild(this.scoreBoards[1]),this.container.addChild(this.messages.gameStart),this.container.addChild(this.messages.ready),this.container.addChild(this.messages.gameEnd),this.bgContainer.x=0,this.bgContainer.y=0,this.cloudContainer.x=0,this.cloudContainer.y=0,this.waveContainer.x=0,this.waveContainer.y=0,this.messages.ready.x=176,this.messages.ready.y=38,this.scoreBoards[0].x=14,this.scoreBoards[0].y=10,this.scoreBoards[1].x=354,this.scoreBoards[1].y=10,this.shadows.forPlayer1.y=273,this.shadows.forPlayer2.y=273,this.shadows.forBall.y=273,this.initializeVisibles(),this.cloudArray=[];for(var u=0;u<10;u++)this.cloudArray.push(new a.Es);this.wave=new a.wH}),[{key:"visible",get:function(){return this.container.visible},set:function(e){this.container.visible=e,!1===e&&this.initializeVisibles()}},{key:"initializeVisibles",value:function(){for(var e in this.messages)this.messages[e].visible=!1}},{key:"drawPlayersAndBall",value:function(e){var t=e.player1,i=e.player2,r=e.ball;this.player1.x=t.x,this.player1.y=t.y,3===t.state||4===t.state?this.player1.scale.x=-1===t.divingDirection?-1:1:this.player1.scale.x=1,this.shadows.forPlayer1.x=t.x,this.player2.x=i.x,this.player2.y=i.y,3===i.state||4===i.state?this.player2.scale.x=1===i.divingDirection?1:-1:this.player2.scale.x=-1,this.shadows.forPlayer2.x=i.x;var s=D(t.state,t.frameNumber),o=D(i.state,i.frameNumber);this.player1.gotoAndStop(s),this.player2.gotoAndStop(o),this.ball.x=r.x,this.ball.y=r.y,this.shadows.forBall.x=r.x,this.ball.gotoAndStop(r.rotation),r.punchEffectRadius>0?(r.punchEffectRadius-=2,this.punch.width=2*r.punchEffectRadius,this.punch.height=2*r.punchEffectRadius,this.punch.x=r.punchEffectX,this.punch.y=r.punchEffectY,this.punch.visible=!0):this.punch.visible=!1,!0===r.isPowerHit?(this.ballHyper.x=r.previousX,this.ballHyper.y=r.previousY,this.ballTrail.x=r.previousPreviousX,this.ballTrail.y=r.previousPreviousY,this.ballHyper.visible=!0,this.ballTrail.visible=!0):(this.ballHyper.visible=!1,this.ballTrail.visible=!1)}},{key:"drawScoresToScoreBoards",value:function(e){for(var t=0;t<2;t++){var i=this.scoreBoards[t],r=e[t],s=i.getChildAt(0),o=i.getChildAt(1);s.gotoAndStop(r%10),o.gotoAndStop(Math.floor(r/10)%10),o.visible=r>=10}}},{key:"drawCloudsAndWave",value:function(){var e=this.cloudArray,t=this.wave;(0,a.S0)(e,t);for(var i=0;i<10;i++){var r=e[i],s=this.cloudContainer.getChildAt(i);s.x=r.spriteTopLeftPointX,s.y=r.spriteTopLeftPointY,s.width=r.spriteWidth,s.height=r.spriteHeight}for(var o=0;o<27;o++)this.waveContainer.getChildAt(o).y=t.yCoords[o]}},{key:"drawGameStartMessage",value:function(e,t){if(0===e)this.messages.gameStart.visible=!0;else if(e>=t-1)return void(this.messages.gameStart.visible=!1);var i=this.messages.gameStart,r=i.texture.width,s=i.texture.height,o=Math.floor(r*e/50),n=Math.floor(s*e/50);i.x=216-o,i.y=50+2*n,i.width=2*o,i.height=2*n}},{key:"drawReadyMessage",value:function(e){this.messages.ready.visible=e}},{key:"toggleReadyMessage",value:function(){this.messages.ready.visible=!this.messages.ready.visible}},{key:"drawGameEndMessage",value:function(e){var t=this.messages.gameEnd,i=t.texture.width,r=t.texture.height;if(0===e&&(t.visible=!0),e<50){var s=2*Math.floor((50-e)*i/50),o=2*Math.floor((50-e)*r/50);t.x=216-i/2-s,t.y=50-o,t.width=i+2*s,t.height=r+2*o}else t.x=216-i/2,t.y=50,t.width=i,t.height=r}}])}(),v=function(){return y((function e(t){l(this,e);var i=t[h.I.SPRITE_SHEET].textures;this.black=w(i,p.BLACK,0,0),this.black.width=432,this.black.height=304,this.black.x=0,this.black.y=0,this.black.alpha=1}),[{key:"visible",get:function(){return this.black.visible},set:function(e){this.black.visible=e}},{key:"setBlackAlphaTo",value:function(e){this.black.alpha=e,0===this.black.alpha?this.black.visible=!1:this.black.visible=!0}},{key:"changeBlackAlphaBy",value:function(e){this.black.alpha=e>=0?Math.min(1,this.black.alpha+e):Math.max(0,this.black.alpha+e),0===this.black.alpha?this.black.visible=!1:this.black.visible=!0}}])}();function w(e,t,i,r){var s=new o.k(e[t]);return s.anchor.x=i,s.anchor.y=r,s}function g(e){for(var t,i=[],r=0;r<10;r++)i.push((t=r,e[p.NUMBER(t)]));var o=[null,null];o[0]=new s.D(i,!1),o[1]=new s.D(i,!1);var a=new n.mc;return k(a,o[0],32,0),k(a,o[1],0,0),a.setChildIndex(o[0],0),a.setChildIndex(o[1],1),a}function k(e,t,i,r){e.addChild(t),t.anchor.x=0,t.anchor.y=0,t.x=i,t.y=r}function D(e,t){return e<4?5*e+t:4===e?17+t:e>4?18+5*(e-5)+t:void 0}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}function P(e,t,i){return t&&S(e.prototype,t),i&&S(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function A(e){var t=function(e){if("object"!=x(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=x(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==x(t)?t:t+""}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}var M=function(e){function t(e,i,r,s,o){var n,a,h,u,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return C(this,t),(a=this,h=t,h=T(h),n=function(e,t){if(t&&("object"==x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(a,E()?Reflect.construct(h,u||[],T(a).constructor):h.apply(a,u))).powerHitKeyIsDownPrevious=!1,n.leftKey=new _(e),n.rightKey=new _(i),n.upKey=new _(r),n.downKey=new _(s),n.powerHitKey=new _(o),n.downRightKey=new _(l),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(t,e),P(t,[{key:"getInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.leftKey.isDown?this.xDirection=-1:this.rightKey.isDown||!e&&this.downRightKey&&this.downRightKey.isDown?this.xDirection=1:this.xDirection=0,this.upKey.isDown?this.yDirection=-1:this.downKey.isDown||this.downRightKey&&this.downRightKey.isDown?this.yDirection=1:this.yDirection=0;var t=this.powerHitKey.isDown;!this.powerHitKeyIsDownPrevious&&t?this.powerHit=1:this.powerHit=0,this.powerHitKeyIsDownPrevious=t}},{key:"subscribe",value:function(){this.leftKey.subscribe(),this.rightKey.subscribe(),this.upKey.subscribe(),this.downKey.subscribe(),this.powerHitKey.subscribe(),this.downRightKey.subscribe()}},{key:"unsubscribe",value:function(){this.leftKey.unsubscribe(),this.rightKey.unsubscribe(),this.upKey.unsubscribe(),this.downKey.unsubscribe(),this.powerHitKey.unsubscribe(),this.downRightKey.unsubscribe()}}])}(r.BF),_=function(){return P((function e(t){C(this,e),this.value=t,this.isDown=!1,this.isUp=!0,this.downListener=this.downHandler.bind(this),this.upListner=this.upHandler.bind(this),this.subscribe()}),[{key:"downHandler",value:function(e){e.code===this.value&&(this.isDown=!0,this.isUp=!1,e.preventDefault())}},{key:"upHandler",value:function(e){e.code===this.value&&(this.isDown=!1,this.isUp=!0,e.preventDefault())}},{key:"subscribe",value:function(){window.addEventListener("keydown",this.downListener),window.addEventListener("keyup",this.upListner)}},{key:"unsubscribe",value:function(){window.removeEventListener("keydown",this.downListener),window.removeEventListener("keyup",this.upListner),this.isDown=!1,this.isUp=!0}}])}(),O=i(789);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,V(r.key),r)}}function L(e,t,i){return t&&N(e.prototype,t),i&&N(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function V(e){var t=function(e){if("object"!=I(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=I(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==I(t)?t:t+""}var W=h.I.SOUNDS,B=function(){return L((function e(t){R(this,e),this.sounds={bgm:new F(t[W.BGM].sound),pipikachu:new F(t[W.PIPIKACHU].sound),pika:new F(t[W.PIKA].sound),chu:new F(t[W.CHU].sound),pi:new F(t[W.PI].sound),pikachu:new F(t[W.PIKACHU].sound),powerHit:new F(t[W.POWERHIT].sound),ballTouchesGround:new F(t[W.BALLTOUCHESGROUND].sound)},this.sounds.bgm.loop=!0,this.properBGMVolume=.2,this.properSFXVolume=.35,this.adjustVolume()}),[{key:"adjustVolume",value:function(){for(var e in this.sounds)this.sounds[e].volume="bgm"===e?this.properBGMVolume:this.properSFXVolume}},{key:"turnBGMVolume",value:function(e){var t;t=e?this.properBGMVolume:0,this.sounds.bgm.volume=t}},{key:"turnSFXVolume",value:function(e){var t;for(var i in t=e?this.properSFXVolume:0,this.sounds)"bgm"!==i&&(this.sounds[i].volume=t)}},{key:"muteAll",value:function(){O.s3.muteAll()}},{key:"unmuteAll",value:function(){O.s3.unmuteAll()}}])}(),F=function(){return L((function e(t){R(this,e),this.center=t,this.left=O.AB.from(t.url),this.right=O.AB.from(t.url);var i=new O.uW.StereoFilter(0),r=new O.uW.StereoFilter(-.75),s=new O.uW.StereoFilter(.75);this.center.filters=[i],this.left.filters=[r],this.right.filters=[s]}),[{key:"volume",set:function(e){this.center.volume=e,this.left.volume=e,this.right.volume=e}},{key:"loop",set:function(e){this.center.loop=e,this.left.loop=e,this.right.loop=e}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0===e?this.center.play():-1===e?this.left.play():1===e&&this.right.play()}},{key:"stop",value:function(){this.center.stop(),this.left.stop(),this.right.stop()}}])}(),j=i(187),U=i(427),K=i(391),G=i.n(K);function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function z(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y(r.key),r)}}function Y(e){var t=function(e){if("object"!=X(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=X(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==X(t)?t:t+""}var Z=function(){return e=function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view={intro:new d(i),menu:new m(i),game:new b(i),fadeInOut:new v(i)},t.addChild(this.view.intro.container),t.addChild(this.view.menu.container),t.addChild(this.view.game.container),t.addChild(this.view.fadeInOut.black),this.view.intro.visible=!1,this.view.menu.visible=!1,this.view.game.visible=!1,this.view.fadeInOut.visible=!1,this.willSaveReplay=!0,this.audio=new B(i),this.physics=new r.vW(!0,!0),this.keyboardArray=[new M("KeyD","KeyG","KeyR","KeyV","KeyZ","KeyF"),new M("ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Enter")],this.normalFPS=25,this.slowMotionFPS=5,this.SLOW_MOTION_FRAMES_NUM=6,this.slowMotionFramesLeft=0,this.slowMotionNumOfSkippedFrames=0,this.selectedWithWho=0,this.scores=[0,0],this.winningScore=15,this.gameEnded=!1,this.roundEnded=!1,this.isPlayer2Serve=!1,this.frameCounter=0,this.frameTotal={intro:165,afterMenuSelection:15,beforeStartOfNewGame:15,startOfNewGame:71,afterEndOfRound:5,beforeStartOfNextRound:30,gameEnd:211},this.noInputFrameCounter=0,this.noInputFrameTotal={menu:225},this.paused=!1,this.isStereoSound=!0,this._isPracticeMode=!1,this.state=this.intro},(t=[{key:"gameLoop",value:function(){if(!0!==this.paused){this.keyboardArray[0].getInput(),this.keyboardArray[1].getInput();var e=new r.BF,t=new r.BF;if(e.xDirection=this.keyboardArray[0].xDirection,e.yDirection=this.keyboardArray[0].yDirection,e.powerHit=this.keyboardArray[0].powerHit,t.xDirection=this.keyboardArray[1].xDirection,t.yDirection=this.keyboardArray[1].yDirection,t.powerHit=this.keyboardArray[1].powerHit,j.Z.recordInputs(e,t),this.slowMotionFramesLeft>0){if(this.slowMotionNumOfSkippedFrames++,this.slowMotionNumOfSkippedFrames%Math.round(this.normalFPS/this.slowMotionFPS)!=0)return;this.slowMotionFramesLeft--,this.slowMotionNumOfSkippedFrames=0}this.state()}}},{key:"intro",value:function(){0===this.frameCounter&&(this.view.intro.visible=!0,this.view.fadeInOut.setBlackAlphaTo(0),this.audio.sounds.bgm.stop()),this.view.intro.drawMark(this.frameCounter),this.frameCounter++,1!==this.keyboardArray[0].powerHit&&1!==this.keyboardArray[1].powerHit||(this.frameCounter=0,this.view.intro.visible=!1,this.state=this.menu),this.frameCounter>=this.frameTotal.intro&&(this.frameCounter=0,this.view.intro.visible=!1,this.state=this.menu)}},{key:"menu",value:function(){if(0===this.frameCounter&&(this.view.menu.visible=!0,this.view.fadeInOut.setBlackAlphaTo(0),this.selectedWithWho=0,this.view.menu.selectWithWho(this.selectedWithWho)),this.view.menu.drawFightMessage(this.frameCounter),this.view.menu.drawSachisoft(this.frameCounter),this.view.menu.drawSittingPikachuTiles(this.frameCounter),this.view.menu.drawPikachuVolleyballMessage(this.frameCounter),this.view.menu.drawPokemonMessage(this.frameCounter),this.view.menu.drawWithWhoMessages(this.frameCounter),this.frameCounter++,this.frameCounter<71&&(1===this.keyboardArray[0].powerHit||1===this.keyboardArray[1].powerHit))this.frameCounter=71;else if(!(this.frameCounter<=71))return-1!==this.keyboardArray[0].yDirection&&-1!==this.keyboardArray[1].yDirection||1!==this.selectedWithWho?1!==this.keyboardArray[0].yDirection&&1!==this.keyboardArray[1].yDirection||0!==this.selectedWithWho?this.noInputFrameCounter++:(this.noInputFrameCounter=0,this.selectedWithWho=1,this.view.menu.selectWithWho(this.selectedWithWho),this.audio.sounds.pi.play()):(this.noInputFrameCounter=0,this.selectedWithWho=0,this.view.menu.selectWithWho(this.selectedWithWho),this.audio.sounds.pi.play()),1===this.keyboardArray[0].powerHit||1===this.keyboardArray[1].powerHit?(1===this.selectedWithWho?(this.physics.player1.isComputer=!1,this.physics.player2.isComputer=!1):1===this.keyboardArray[0].powerHit?(this.physics.player1.isComputer=!1,this.physics.player2.isComputer=!0):1===this.keyboardArray[1].powerHit&&(this.physics.player1.isComputer=!0,this.physics.player2.isComputer=!1),this.audio.sounds.pikachu.play(),this.frameCounter=0,this.noInputFrameCounter=0,void(this.state=this.afterMenuSelection)):void 0}},{key:"afterMenuSelection",value:function(){this.view.fadeInOut.changeBlackAlphaBy(1/16),this.frameCounter++,this.frameCounter>=this.frameTotal.afterMenuSelection&&(this.frameCounter=0,this.state=this.beforeStartOfNewGame)}},{key:"beforeStartOfNewGame",value:function(){this.frameCounter++,this.frameCounter>=this.frameTotal.beforeStartOfNewGame&&(this.frameCounter=0,this.view.menu.visible=!1,this.state=this.startOfNewGame)}},{key:"startOfNewGame",value:function(){0===this.frameCounter&&(this.view.game.visible=!0,this.gameEnded=!1,this.roundEnded=!1,this.isPlayer2Serve=!1,this.physics.player1.gameEnded=!1,this.physics.player1.isWinner=!1,this.physics.player2.gameEnded=!1,this.physics.player2.isWinner=!1,this.scores[0]=0,this.scores[1]=0,this.view.game.drawScoresToScoreBoards(this.scores),this.physics.player1.initializeForNewRound(),this.physics.player2.initializeForNewRound(),this.physics.ball.initializeForNewRound(this.isPlayer2Serve),this.physics.player1.isComputer?this.physics.ball.x=376:this.physics.ball.x=56,this.view.game.drawPlayersAndBall(this.physics),this.view.fadeInOut.setBlackAlphaTo(1),this.audio.sounds.bgm.play()),this.view.game.drawGameStartMessage(this.frameCounter,this.frameTotal.startOfNewGame),this.view.game.drawCloudsAndWave(),this.view.fadeInOut.changeBlackAlphaBy(-1/17),this.frameCounter++,this.frameCounter>=this.frameTotal.startOfNewGame&&(this.frameCounter=0,this.view.fadeInOut.setBlackAlphaTo(0),this.state=this.round)}},{key:"round",value:function(){var e=1===this.keyboardArray[0].powerHit||1===this.keyboardArray[1].powerHit;if(!0===this.physics.player1.isComputer&&!0===this.physics.player2.isComputer&&e)return this.frameCounter=0,this.view.game.visible=!1,void(this.state=this.intro);this.physics.player1.isComputer&&(this.keyboardArray[1].xDirection=this.keyboardArray[0].xDirection||this.keyboardArray[1].xDirection,this.keyboardArray[1].yDirection=this.keyboardArray[0].yDirection||this.keyboardArray[1].yDirection,this.keyboardArray[1].powerHit=this.keyboardArray[0].powerHit||this.keyboardArray[1].powerHit),this.physics.player2.isComputer&&(this.keyboardArray[0].xDirection=this.keyboardArray[0].xDirection||this.keyboardArray[1].xDirection,this.keyboardArray[0].yDirection=this.keyboardArray[0].yDirection||this.keyboardArray[1].yDirection,this.keyboardArray[0].powerHit=this.keyboardArray[0].powerHit||this.keyboardArray[1].powerHit);var t=new r.BF,i=new r.BF;t.xDirection=this.keyboardArray[0].xDirection,t.yDirection=this.keyboardArray[0].yDirection,t.powerHit=this.keyboardArray[0].powerHit,i.xDirection=this.keyboardArray[1].xDirection,i.yDirection=this.keyboardArray[1].yDirection,i.powerHit=this.keyboardArray[1].powerHit,this.physics.player1.isComputer?J.push(i):J.push(t);var s,o,n=this.physics.runEngineForNextFrame(this.keyboardArray);if(n){var a=[];this.physics.player1.isComputer?(console.log(J),a=Q(J,2)):(console.log(J),a=Q(J,1)),s=function(e){if(!Array.isArray(e)||0===e.length)return"";for(var t="",i=e[0],r=1,s=1;s<e.length;s++)e[s]===i?r++:(t+=i+r,i=e[s],r=1);return t+(i+r)}(a).slice(1),(o=document.getElementById("code-viewer-output"))&&(o.textContent=s),J.length=0}if(this.playSoundEffect(),this.view.game.drawPlayersAndBall(this.physics),this.view.game.drawCloudsAndWave(),!0===this.gameEnded)return this.view.game.drawGameEndMessage(this.frameCounter),this.frameCounter++,void((this.frameCounter>=this.frameTotal.gameEnd||this.frameCounter>=70&&e)&&(this.frameCounter=0,this.view.game.visible=!1,this.state=this.intro));n&&!1===this._isPracticeMode&&!1===this.roundEnded&&!1===this.gameEnded&&(this.physics.ball.punchEffectX<r.Rs?(this.isPlayer2Serve=!0,this.scores[1]>=this.winningScore&&(this.gameEnded=!0,this.physics.player1.isWinner=!1,this.physics.player2.isWinner=!0,this.physics.player1.gameEnded=!0,this.physics.player2.gameEnded=!0)):(this.isPlayer2Serve=!1,this.scores[0]>=this.winningScore&&(this.gameEnded=!0,this.physics.player1.isWinner=!0,this.physics.player2.isWinner=!1,this.physics.player1.gameEnded=!0,this.physics.player2.gameEnded=!0)),this.view.game.drawScoresToScoreBoards(this.scores),!1===this.roundEnded&&!1===this.gameEnded&&(this.slowMotionFramesLeft=this.SLOW_MOTION_FRAMES_NUM),this.roundEnded=!0),!0===this.roundEnded&&!1===this.gameEnded&&0===this.slowMotionFramesLeft&&(this.view.fadeInOut.changeBlackAlphaBy(1/16),this.state=this.afterEndOfRound)}},{key:"afterEndOfRound",value:function(){this.view.fadeInOut.changeBlackAlphaBy(1/16),this.frameCounter++,this.frameCounter>=this.frameTotal.afterEndOfRound&&(this.frameCounter=0,this.state=this.beforeStartOfNextRound)}},{key:"beforeStartOfNextRound",value:function(){0===this.frameCounter&&(this.view.fadeInOut.setBlackAlphaTo(1),this.view.game.drawReadyMessage(!1),this.physics.player1.initializeForNewRound(),this.physics.player2.initializeForNewRound(),this.physics.ball.initializeForNewRound(this.isPlayer2Serve),this.physics.player1.isComputer?this.physics.ball.x=376:this.physics.ball.x=56,this.view.game.drawPlayersAndBall(this.physics)),this.view.game.drawCloudsAndWave(),this.view.fadeInOut.changeBlackAlphaBy(-1/16),this.frameCounter++,this.frameCounter%5==0&&this.view.game.toggleReadyMessage(),this.frameCounter>=this.frameTotal.beforeStartOfNextRound&&(this.frameCounter=0,this.view.game.drawReadyMessage(!1),this.view.fadeInOut.setBlackAlphaTo(0),this.roundEnded=!1,J.length=0,this.state=this.round)}},{key:"playSoundEffect",value:function(){for(var e=this.audio,t=0;t<2;t++){var i=this.physics["player".concat(t+1)].sound,s=0;this.isStereoSound&&(s=0===t?-1:1),!0===i.pipikachu&&(e.sounds.pipikachu.play(s),i.pipikachu=!1),!0===i.pika&&(e.sounds.pika.play(s),i.pika=!1),!0===i.chu&&(e.sounds.chu.play(s),i.chu=!1)}var o=this.physics.ball,n=o.sound,a=0;this.isStereoSound&&(o.punchEffectX<r.Rs?a=-1:o.punchEffectX>r.Rs&&(a=1)),!0===n.powerHit&&(e.sounds.powerHit.play(a),n.powerHit=!1),!0===n.ballTouchesGround&&(e.sounds.ballTouchesGround.play(a),n.ballTouchesGround=!1)}},{key:"restart",value:function(){this.frameCounter=0,this.noInputFrameCounter=0,this.slowMotionFramesLeft=0,this.slowMotionNumOfSkippedFrames=0,this.view.menu.visible=!1,this.view.game.visible=!1,J.length=0,this.state=this.intro;var e="uzaramen"+(0,U.py)();j.Z.recordRoomID(e);var t=G().alea(e.slice(8));(0,U.pe)(t)}},{key:"isPracticeMode",get:function(){return this._isPracticeMode},set:function(e){this._isPracticeMode=e,this.view.game.scoreBoards[0].visible=!e,this.view.game.scoreBoards[1].visible=!e}}])&&z(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),J=[];function q(e,t){if(1==t){if(1==e.powerHit){if(-1==e.xDirection&&-1==e.yDirection)return"-ULH/";if(-1==e.xDirection&&0==e.yDirection)return"-LH/";if(-1==e.xDirection&&1==e.yDirection)return"-DLH/";if(0==e.xDirection&&-1==e.yDirection)return"-UH/";if(0==e.xDirection&&0==e.yDirection)return"-H/";if(0==e.xDirection&&1==e.yDirection)return"-DH/";if(1==e.xDirection&&-1==e.yDirection)return"-URH/";if(1==e.xDirection&&0==e.yDirection)return"-RH/";if(1==e.xDirection&&1==e.yDirection)return"-DRH/"}else if(0==e.powerHit){if(-1==e.xDirection&&-1==e.yDirection)return"-UL/";if(-1==e.xDirection&&0==e.yDirection)return"-L/";if(-1==e.xDirection&&1==e.yDirection)return"-DL/";if(0==e.xDirection&&-1==e.yDirection)return"-U/";if(0==e.xDirection&&0==e.yDirection)return"-/";if(0==e.xDirection&&1==e.yDirection)return"-D/";if(1==e.xDirection&&-1==e.yDirection)return"-UR/";if(1==e.xDirection&&0==e.yDirection)return"-R/";if(1==e.xDirection&&1==e.yDirection)return"-DR/"}}else if(1==e.powerHit){if(-1==e.xDirection&&-1==e.yDirection)return"-/ULH";if(-1==e.xDirection&&0==e.yDirection)return"-/LH";if(-1==e.xDirection&&1==e.yDirection)return"-/DLH";if(0==e.xDirection&&-1==e.yDirection)return"-/UH";if(0==e.xDirection&&0==e.yDirection)return"-/H";if(0==e.xDirection&&1==e.yDirection)return"-/DH";if(1==e.xDirection&&-1==e.yDirection)return"-/URH";if(1==e.xDirection&&0==e.yDirection)return"-/RH";if(1==e.xDirection&&1==e.yDirection)return"-/DRH"}else if(0==e.powerHit){if(-1==e.xDirection&&-1==e.yDirection)return"-/UL";if(-1==e.xDirection&&0==e.yDirection)return"-/L";if(-1==e.xDirection&&1==e.yDirection)return"-/DL";if(0==e.xDirection&&-1==e.yDirection)return"-/U";if(0==e.xDirection&&0==e.yDirection)return"-/";if(0==e.xDirection&&1==e.yDirection)return"-/D";if(1==e.xDirection&&-1==e.yDirection)return"-/UR";if(1==e.xDirection&&0==e.yDirection)return"-/R";if(1==e.xDirection&&1==e.yDirection)return"-/DR"}}function Q(e,t){for(var i=e.length,r=[],s=0;s<i;s++)r.push(q(e[s],t));return r}},427:(e,t,i)=>{"use strict";i.d(t,{_9:()=>s,pe:()=>o,py:()=>n});var r=null;function s(){return null===r?Math.floor(32768*Math.random()):Math.floor(32768*r())}function o(e){r=e}function n(){return Math.floor(32768*Math.random())}},591:(e,t,i)=>{"use strict";i.d(t,{I:()=>r});var r={SPRITE_SHEET:"../resources/assets/images/sprite_sheet.json",TEXTURES:{},SOUNDS:{}},s=r.TEXTURES;s.PIKACHU=function(e,t){return"pikachu/pikachu_".concat(e,"_").concat(t,".png")},s.BALL=function(e){return"ball/ball_".concat(e,".png")},s.NUMBER=function(e){return"number/number_".concat(e,".png")},s.SKY_BLUE="objects/sky_blue.png",s.MOUNTAIN="objects/mountain.png",s.GROUND_RED="objects/ground_red.png",s.GROUND_LINE="objects/ground_line.png",s.GROUND_LINE_LEFT_MOST="objects/ground_line_leftmost.png",s.GROUND_LINE_RIGHT_MOST="objects/ground_line_rightmost.png",s.GROUND_YELLOW="objects/ground_yellow.png",s.NET_PILLAR_TOP="objects/net_pillar_top.png",s.NET_PILLAR="objects/net_pillar.png",s.SHADOW="objects/shadow.png",s.BALL_HYPER="ball/ball_hyper.png",s.BALL_TRAIL="ball/ball_trail.png",s.BALL_PUNCH="ball/ball_punch.png",s.CLOUD="objects/cloud.png",s.WAVE="objects/wave.png",s.BLACK="objects/black.png",s.SACHISOFT="messages/common/sachisoft.png",s.READY="messages/common/ready.png",s.GAME_END="messages/common/game_end.png",s.MARK="messages/ja/mark.png",s.POKEMON="messages/ja/pokemon.png",s.PIKACHU_VOLLEYBALL="messages/ja/pikachu_volleyball.png",s.FIGHT="messages/ja/fight.png",s.WITH_COMPUTER="messages/ja/with_computer.png",s.WITH_FRIEND="messages/ja/with_friend.png",s.GAME_START="messages/ja/game_start.png",s.SITTING_PIKACHU="sitting_pikachu.png";var o=r.SOUNDS;o.BGM="../resources/assets/sounds/bgm.mp3",o.PIPIKACHU="../resources/assets/sounds/WAVE140_1.wav",o.PIKA="../resources/assets/sounds/WAVE141_1.wav",o.CHU="../resources/assets/sounds/WAVE142_1.wav",o.PI="../resources/assets/sounds/WAVE143_1.wav",o.PIKACHU="../resources/assets/sounds/WAVE144_1.wav",o.POWERHIT="../resources/assets/sounds/WAVE145_1.wav",o.BALLTOUCHESGROUND="../resources/assets/sounds/WAVE146_1.wav"},772:(e,t,i)=>{"use strict";i.d(t,{BF:()=>p,Rs:()=>l,vW:()=>f});var r=i(427),s=i(187);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function h(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}var l=216,c=32,y=244,f=function(){return h((function e(t,i){n(this,e),this.player1=new d(!1,t),this.player2=new d(!0,i),this.ball=new m(!1)}),[{key:"runEngineForNextFrame",value:function(e){var t=function(e,t,i,r){for(var s,o=function(e){e.previousPreviousX=e.previousX,e.previousPreviousY=e.previousY,e.previousX=e.x,e.previousY=e.y;var t=e.fineRotation+(e.xVelocity/2|0);t<0?t+=50:t>50&&(t+=-50),e.fineRotation=t,e.rotation=e.fineRotation/10|0;var i=e.x+e.xVelocity;(i<20||i>432)&&(e.xVelocity=-e.xVelocity);var r=e.y+e.yVelocity;return r<0&&(e.yVelocity=1),Math.abs(e.x-l)<25&&e.y>176&&(e.y<=192?e.yVelocity>0&&(e.yVelocity=-e.yVelocity):e.x<l?e.xVelocity=-Math.abs(e.xVelocity):e.xVelocity=Math.abs(e.xVelocity)),(r=e.y+e.yVelocity)>252?(e.sound.ballTouchesGround=!0,e.yVelocity=-e.yVelocity,e.punchEffectX=e.x,e.y=252,e.punchEffectRadius=20,e.punchEffectY=272,!0):(e.y=r,e.x=e.x+e.xVelocity,e.yVelocity+=1,!1)}(i),n=0;n<2;n++)0===n?(s=e,t):(s=t,e),g(i),v(s,r[n]);for(var a=0;a<2;a++)!0===b(i,(s=0===a?e:t).x,s.y)&&0==s.isComputer?!1===s.isCollisionWithBallHappened&&(w(i,s.x,r[a],s.state),s.isCollisionWithBallHappened=!0):s.isCollisionWithBallHappened=!1;return o}(this.player1,this.player2,this.ball,e);return t}}])}(),p=h((function e(){n(this,e),this.xDirection=0,this.yDirection=0,this.powerHit=0})),d=function(){return h((function e(t,i){n(this,e),this.isPlayer2=t,this.isComputer=i,this.initializeForNewRound(),this.divingDirection=0,this.lyingDownDurationLeft=-1,this.isWinner=!1,this.gameEnded=!1,this.computerWhereToStandBy=0,this.sound={pipikachu:!1,pika:!1,chu:!1}}),[{key:"initializeForNewRound",value:function(){this.x=36,this.isPlayer2&&(this.x=396),this.y=y,this.yVelocity=0,this.isCollisionWithBallHappened=!1,this.state=0,this.frameNumber=0,this.normalStatusArmSwingDirection=1,this.delayBeforeNextFrame=0,this.computerBoldness=(0,r._9)()%5}}])}(),m=function(){return h((function e(t){n(this,e),this.initializeForNewRound(t),this.expectedLandingPointX=0,this.rotation=0,this.fineRotation=0,this.punchEffectX=0,this.punchEffectY=0,this.previousX=0,this.previousPreviousX=0,this.previousY=0,this.previousPreviousY=0,this.sound={powerHit:!1,ballTouchesGround:!1}}),[{key:"initializeForNewRound",value:function(e){this.x=56,!0===e&&(this.x=376),this.y=0,this.xVelocity=0,this.yVelocity=1,this.punchEffectRadius=0,this.isPowerHit=!1}}])}();function b(e,t,i){var r=e.x-t;return Math.abs(r)<=c&&(r=e.y-i,Math.abs(r)<=c)}function v(e,t,i,r){if(e.isComputer,4===e.state)return e.lyingDownDurationLeft+=-1,void(e.lyingDownDurationLeft<-1&&(e.state=0));var s=0;e.state<5&&!e.isComputer&&(s=e.state<3?6*t.xDirection:8*e.divingDirection);var o=e.x+s;e.x=o,!1===e.isPlayer2?o<c?e.x=c:o>l-c&&(e.x=l-c):o<l+c?e.x=l+c:o>400&&(e.x=400),e.state<3&&-1===t.yDirection&&e.y===y&&(e.isComputer||(e.yVelocity=-16,e.state=1,e.frameNumber=0,e.sound.chu=!0));var n=e.y+e.yVelocity;if(e.y=n,n<y?e.yVelocity+=1:n>y&&!e.isComputer&&(e.yVelocity=0,e.y=y,e.frameNumber=0,3===e.state?(e.state=4,e.frameNumber=0,e.lyingDownDurationLeft=3):e.state=0),1===t.powerHit&&(1===e.state?(e.delayBeforeNextFrame=5,e.frameNumber=0,e.state=2,e.sound.pika=!0):0!==e.state||0===t.xDirection||e.isComputer||(e.state=3,e.frameNumber=0,e.divingDirection=t.xDirection,e.yVelocity=-5,e.sound.chu=!0)),1===e.state)e.frameNumber=(e.frameNumber+1)%3;else if(2===e.state)e.delayBeforeNextFrame<1?(e.frameNumber+=1,e.frameNumber>4&&(e.frameNumber=0,e.state=1)):e.delayBeforeNextFrame-=1;else if(0===e.state&&(e.delayBeforeNextFrame+=1,e.delayBeforeNextFrame>3)){e.delayBeforeNextFrame=0;var a=e.frameNumber+e.normalStatusArmSwingDirection;(a<0||a>4)&&(e.normalStatusArmSwingDirection=-e.normalStatusArmSwingDirection),e.frameNumber=e.frameNumber+e.normalStatusArmSwingDirection}!0===e.gameEnded&&(0===e.state&&(!0===e.isWinner?(e.state=5,e.sound.pipikachu=!0):e.state=6,e.delayBeforeNextFrame=0,e.frameNumber=0),function(e){!0===e.gameEnded&&e.frameNumber<4&&(e.delayBeforeNextFrame+=1,e.delayBeforeNextFrame>4&&(e.delayBeforeNextFrame=0,e.frameNumber+=1))}(e))}function w(e,t,i,o){e.x<t?e.xVelocity=-(Math.abs(e.x-t)/3|0):e.x>t&&(e.xVelocity=Math.abs(e.x-t)/3|0),0===e.xVelocity&&(e.xVelocity=(0,r._9)()%3-1,console.log(s.Z.roomID));var n=Math.abs(e.yVelocity);e.yVelocity=-n,n<15&&(e.yVelocity=-15),2===o?(e.x<l?e.xVelocity=10*(Math.abs(i.xDirection)+1):e.xVelocity=10*-(Math.abs(i.xDirection)+1),e.punchEffectX=e.x,e.punchEffectY=e.y,e.yVelocity=Math.abs(e.yVelocity)*i.yDirection*2,e.punchEffectRadius=20,e.sound.powerHit=!0,e.isPowerHit=!0):e.isPowerHit=!1,g(e)}function g(e){for(var t={x:e.x,y:e.y,xVelocity:e.xVelocity,yVelocity:e.yVelocity},i=0;;){i++;var r=t.xVelocity+t.x;if((r<20||r>432)&&(t.xVelocity=-t.xVelocity),t.y+t.yVelocity<0&&(t.yVelocity=1),Math.abs(t.x-l)<25&&t.y>176&&(t.y<192?t.yVelocity>0&&(t.yVelocity=-t.yVelocity):t.x<l?t.xVelocity=-Math.abs(t.xVelocity):t.xVelocity=Math.abs(t.xVelocity)),t.y=t.y+t.yVelocity,t.y>252||i>=1e3)break;t.x=t.x+t.xVelocity,t.yVelocity+=1}e.expectedLandingPointX=t.x}},912:(e,t,i)=>{"use strict";function r(e){for(var t=0,i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}i.d(t,{i:()=>r})}}]);
//# sourceMappingURL=396.bundle.js.map